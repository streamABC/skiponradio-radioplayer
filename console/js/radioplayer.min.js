window.radioplayer||(window.radioplayer=radioplayer);window.console||(window.console={log:function(){},dir:function(){}});
var radioplayer={consts:{consolelog:!1,is_iOS:!1,is_Android:!1,reduced_func:!1,user:null,assetBaseUrl:"",force_reduced_func:!1,show_cookie_dependent_features:!0,show_cookie_anno:!1,show_cookie_consent:!0,cookie_consent_required:!0,cookie_anno_ttl:31536E4,api:{stationList:"https://static.radioplayer.de/v1/json/StationList.js",init:"https://cookie.radioplayer.de/cm/",search:"https://search.radioplayer.de/qp/v3/search",suggest:"https://search.radioplayer.de/qp/v3/suggest",onAir:"https://search.radioplayer.de/qp/v3/onair",
pollOnAir:"https://np.radioplayer.de/qp/v3/onair",onDemand:"https://search.radioplayer.de/qp/v3/oditem",recommend:"https://search.radioplayer.de/qp/v3/recommend",az:"https://search.radioplayer.de/qp/v3/stations"},iframe:{analytics:"https://static.radioplayer.de/v3/analytics.html"}},services:{},emp:{},controls:{},playing:{},overlay:{},mystations:{},history:{},search:{},lang:{},utils:{},settings:{lastplayed:currentStationID,presets:[],history:[],stationlistprefix:"",guid:""},stnList:{},querystring:{},
initFailTimeout:null,checkCookieConsentFailTimeout:null,startAtSeconds:0,themeColour:"dark",mouseActive:!1,objs:{body:null,searchBox:null,searchInput:null,overlayContainer:null,stickyLetterDivide:null,suggestContainer:null,searchContainer:null,searchKeywords:null,searchResults:null,searchAllContainer:null,searchLiveContainer:null,searchODContainer:null,nowPlayingStrip:null,scrollingContainer:null,scrollingText:null},init:function(){user=detect.parse(navigator.userAgent);radioplayer.consts.is_iOS=
/(iOS)/.test(user.os.family);radioplayer.consts.is_Android=/Android/.test(user.os.family);window.force_reduced_func&&(radioplayer.consts.force_reduced_func=!0);radioplayer.consts.force_reduced_func&&(radioplayer.consts.reduced_func=!0);/(Safari)/.test(user.browser.family)&&(radioplayer.consts.reduced_func=!0);$(".radioplayer-globalnav .rp-logo").html(radioplayer.lang.general.radioplayer);$(".radioplayer-globalnav .menu-btn").attr("title",radioplayer.lang.general.open_menu).find("span").html(radioplayer.lang.general.open_menu);
$("#toggle-mystations").attr("title",radioplayer.lang.mystations.add_this).find("span").html(radioplayer.lang.mystations.add_this);$("#rectangle").find("span").html(radioplayer.lang.general.apps_download);radioplayer.querystring=radioplayer.utils.getQueryStringObj();$(".radioplayer").hasClass("light-theme")&&(radioplayer.consts.themeColour="light");radioplayer.objs.body=$("body");radioplayer.querystring.rpAodUrl&&(audioLive=!1,audioFlash=audioHTML=[{audioType:"http",audioUrl:radioplayer.querystring.rpAodUrl}],
nowPlayingSource="OD");radioplayer.querystring.t&&!audioLive&&(radioplayer.startAtSeconds=radioplayer.utils.convertTimeToSeconds(radioplayer.querystring.t),radioplayer.utils.output("start at "+radioplayer.startAtSeconds+" seconds into OD audio"),$(radioplayer.emp).on("loaded",function(){0<radioplayer.startAtSeconds&&radioplayer.startAtSeconds<=radioplayer.controls.rawDuration/1E3&&(radioplayer.emp.seek(radioplayer.startAtSeconds),radioplayer.startAtSeconds=0)}));radioplayer.controls.init();radioplayer.mystations.init();
audioLive?radioplayer.playing.init():radioplayer.services.getAPI(radioplayer.consts.api.onDemand+"?odUrl\x3d"+encodeURIComponent(document.location.href)+"\x26nameSize\x3d200\x26descriptionSize\x3d200\x26callback\x3dradioplayer.playing.receiveOD");radioplayer.overlay.init();radioplayer.search.init();/(Safari)/.test(user.browser.family)&&radioplayer.services.hideCookieDependentFeatures();/(Desktop)/.test(user.device.type)&&$("html, body").addClass("desktop");radioplayer.services.analytics.init();$(document).on("mousedown",
function(){radioplayer.mouseActive||(radioplayer.mouseActive=!0,radioplayer.objs.body.addClass("rp-mouseactivity"))}).on("keydown",function(){radioplayer.mouseActive&&(radioplayer.mouseActive=!1,radioplayer.objs.body.removeClass("rp-mouseactivity"))});radioplayer.controls.resizeProgressScrubber();$(window).resize(function(){radioplayer.controls.resizeProgressScrubber();$.browser.msie&&7==$.browser.version||radioplayer.overlay.resizeStickyDivide();radioplayer.overlay.resetNavigationMenu();radioplayer.search.resetNavigationMenu()});
$(".radioplayer-plugin").on("click","a[data-newstationid]",function(){var a=$(this).attr("data-newstationid"),b=$(this).attr("href");radioplayer.overlay.sidewaysNavigate("Plugin Space",a,b)});radioplayer.initFailTimeout=setTimeout(function(){radioplayer.controls.isPlaying||(radioplayer.emp.setAudioParams(window.audioFlash,window.audioHTML,window.audioLive,window.bufferTime,window.preferHtml5Audio),radioplayer.emp.dataReady())},5E3);radioplayer.services.checkCookieConsent(function(){radioplayer.consts.show_cookie_consent&&
(radioplayer.consts.reduced_func=!0);radioplayer.services.initCookie()});radioplayer.services.getAPI(radioplayer.consts.api.stationList);$("html").addClass("rp-js")}};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,e=this.length;c<e;c++)if(this[c]===a)return c;return-1});
radioplayer.utils={output:function(a){radioplayer.consts.consolelog&&console.log(a)},setSelectionRange:function(a,b,c){a.setSelectionRange?(a.focus(),a.setSelectionRange(b,c)):a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveEnd("character",c),a.moveStart("character",b),a.select())},setCaretToPos:function(a,b){radioplayer.utils.setSelectionRange(a,b,b)},getQueryStringObj:function(){for(var a=location.search.replace("?","").split("\x26"),b={},c=0;c<a.length;c++){var e=a[c].split("\x3d")[0],
d=a[c].split("\x3d")[1];b[e]=d}return b},convertTimeToSeconds:function(a){a=a.match(/[0-9]+[HMShms]{1}/g);var b=0,c,e;if($.isArray(a))for(var d=0;d<a.length;d++)c=a[d].charAt(a[d].length-1),e=a[d].substr(0,a[d].length-1),"h"==c?b+=parseInt(3600*e):"m"==c?b+=parseInt(60*e):"s"==c&&(b+=parseInt(e));return b}};
radioplayer.services={unmuteAfterOverlay:!1,heartbeatCounter:0,heartbeatTimeout:null,annoTimeout:null,annoShowing:!1,queuedAnnos:[],saveCookie:function(a,b,c,e){radioplayer.consts.reduced_func||(a=radioplayer.consts.api.init+a,radioplayer.services.getAPI(a+("?"+b+"\x3d"+c),e))},checkCookieConsent:function(a){-1!=document.cookie.indexOf("rp-accepted-cookie-consent")?(radioplayer.consts.show_cookie_consent=!1,radioplayer.services.saveCookie("cookie-consent/s","accepted-cookie-consent","true",a)):(radioplayer.checkCookieConsentFailTimeout=
setTimeout(function(){radioplayer.consts.show_cookie_consent=!0;radioplayer.consts.reduced_func=!0;radioplayer.services.showCookieConsent()},5E3),radioplayer.services.getAPI(radioplayer.consts.api.init+"cookie-consent/?callback\x3dradioplayer.services.receiveCookieConsentState",a))},receiveCookieConsentState:function(a){clearTimeout(radioplayer.checkCookieConsentFailTimeout);a.accepted&&(radioplayer.consts.show_cookie_consent=!1,radioplayer.consts.force_reduced_func||/(Safari)/.test(user.browser.family)||
(radioplayer.consts.reduced_func=!1));radioplayer.consts.show_cookie_consent?radioplayer.services.showCookieConsent():(radioplayer.services.createExpiringCookie("rp-accepted-cookie-consent",radioplayer.consts.cookie_anno_ttl),radioplayer.consts.show_cookie_anno&&-1==document.cookie.indexOf("rp-seen-cookie-anno")&&radioplayer.services.showCookieAnno())},initCookie:function(){var a="?callback\x3dradioplayer.services.receiveInit";radioplayer.querystring.stationlistprefix&&(a+="\x26stationlistprefix\x3d"+
radioplayer.querystring.stationlistprefix.toLowerCase());radioplayer.consts.cookie_consent_required&&(a+="\x26cookieconsentrequired\x3dtrue");radioplayer.consts.force_reduced_func||radioplayer.consts.show_cookie_consent?radioplayer.services.getAPI(radioplayer.consts.api.init+"init/"+currentStationID+a):radioplayer.services.saveCookie("primed/s","primed","true",function(){radioplayer.services.getAPI(radioplayer.consts.api.init+"init/"+currentStationID+a)})},receiveInit:function(a){clearTimeout(radioplayer.initFailTimeout);
if(a.dead)return radioplayer.services.analytics.sendEvent("Errors","Static Station",currentStationID,null,null),setTimeout(function(){window.location.href=a.dead.url},100),!1;if(a.redirect)return window.location.href=a.redirect.url,!1;a.primed?radioplayer.consts.show_cookie_consent||(radioplayer.consts.force_reduced_func||/(Safari)/.test(user.browser.family)||(radioplayer.consts.reduced_func=!1),radioplayer.services.showCookieDependentFeatures()):(radioplayer.consts.reduced_func=!0,radioplayer.services.hideCookieDependentFeatures());
if(!radioplayer.consts.reduced_func){var b=a.interstitial&&a.interstitial.seen;!b&&window.initOptions&&window.initOptions.interstitial&&window.initOptions.interstitial.enabled&&(a.interstitial=initOptions.interstitial);if(!b&&a.interstitial&&a.interstitial.url&&""!=a.interstitial.url)return radioplayer.services.saveCookie("interstitial/s","interstitial","true"),setTimeout(function(){var b=document.location.href,c=a.interstitial.url,c=c+((0<c.indexOf("?")?"\x26":"?")+"playerUrl\x3d"+encodeURIComponent(b));
window.location.href=c},200),!1}a.volume&&""!=a.volume&&(radioplayer.controls.currentVolume=a.volume);if(!radioplayer.consts.reduced_func){b=!1;if(a.presets)for(var c=0;c<a.presets.length;c++){var e=a.presets[c].split(":");radioplayer.settings.presets.push(e[1]);e[1]==currentStationID&&(b=!0)}b?$("#toggle-mystations").addClass("in-mystations").attr("title",radioplayer.lang.mystations.remove_this).find("span").html(radioplayer.lang.mystations.remove_this):$("#toggle-mystations").attr("title",radioplayer.lang.mystations.add_this).find("span").html(radioplayer.lang.mystations.add_this)}$(radioplayer.services).trigger("gotPresets");
a.lastplayed&&""!=a.lastplayed&&(radioplayer.settings.lastplayed=a.lastplayed);a.history&&(radioplayer.settings.history=a.history);$(radioplayer.services).trigger("gotMyStationsAndHistory");a.guid&&(radioplayer.settings.guid=a.guid);a.stationlistprefix&&(radioplayer.settings.stationlistprefix=a.stationlistprefix);window.initOptions&&window.initOptions.songaction&&window.initOptions.songaction.enabled&&(a.songaction=initOptions.songaction);a.songaction&&(radioplayer.playing.songAction=a.songaction,
$(radioplayer.services).trigger("gotSongAction"));a.scripts&&$.each(a.scripts,function(a,b){radioplayer.services.getAPI(b)});radioplayer.controls.isPlaying||(window.audioLive&&(a.overridestream?(window.audioHTML="rtmp"==a.overridestream.type?window.audioFlash=[{audioType:a.overridestream.type,audioServer:a.overridestream.server,audioEndpoint:a.overridestream.endpoint}]:window.audioFlash=[{audioType:a.overridestream.type,audioUrl:a.overridestream.url}],window.bufferTime=a.overridestream.buffer):"undefined"==
typeof window.audioHTML&&a.html5stream&&(b="",b="undefined"!=typeof a.html5stream.type?a.html5stream.type:"http",window.audioHTML=[{audioType:b,audioUrl:a.html5stream.url}])),"undefined"==typeof window.audioHTML&&(window.audioHTML=[]),radioplayer.emp.setAudioParams(window.audioFlash,window.audioHTML,window.audioLive,window.bufferTime,window.preferHtml5Audio),radioplayer.emp.dataReady());window.initOptions&&window.initOptions.overlay&&window.initOptions.overlay.enabled&&(a.overlay=initOptions.overlay);
a.overlay&&radioplayer.services.showOverlay(a.overlay.url,a.overlay.mute);a.announcement?radioplayer.services.showAnno(a.announcement.text):!radioplayer.consts.show_cookie_consent&&radioplayer.consts.reduced_func&&radioplayer.services.showAnno(radioplayer.lang.general.reduced_func_anno)},showAnno:function(a,b,c){radioplayer.services.annoShowing?radioplayer.services.queueAnno(a):(radioplayer.services.annoShowing=!0,b?($(".radioplayer-anno .anno-text").html(a),$(".radioplayer-anno").animate({top:"0px"},
600)):($(".radioplayer").append('\x3cdiv class\x3d"radioplayer-anno"\x3e\x3cdiv class\x3d"anno-text"\x3e'+a+'\x3c/div\x3e\x3ca href\x3d"#" class\x3d"hide-anno"\x3eHide this message\x3c/a\x3e\x3c/div\x3e'),$(".radioplayer-anno").on("click","a.hide-anno",radioplayer.services.hideAnno)),c||(radioplayer.services.annoTimeout=setTimeout(radioplayer.services.hideAnno,1E4)))},hideAnno:function(){radioplayer.services.annoShowing=!1;clearTimeout(radioplayer.services.annoTimeout);radioplayer.services.saveCookie("announcement/s",
"announcement","true");$(".radioplayer-anno").animate({top:"-900px"},600,function(){if(0<radioplayer.services.queuedAnnos.length){var a=radioplayer.services.queuedAnnos.shift();radioplayer.services.showAnno(a,!0)}else $(this).remove()})},showCookieAnno:function(){radioplayer.services.createExpiringCookie("rp-seen-cookie-anno",radioplayer.consts.cookie_anno_ttl);radioplayer.services.showAnno(radioplayer.lang.general.cookie_anno,!1,!0)},queueAnno:function(a){radioplayer.services.queuedAnnos.push(a)},
hideCookieConsent:function(){radioplayer.consts.show_cookie_consent=!1;radioplayer.consts.force_reduced_func||/(Safari)/.test(user.browser.family)||(radioplayer.consts.reduced_func=!1);radioplayer.services.createExpiringCookie("rp-accepted-cookie-consent",radioplayer.consts.cookie_anno_ttl);radioplayer.services.saveCookie("cookie-consent/s","accepted-cookie-consent","true",function(){radioplayer.services.initCookie()});$(".radioplayer-cookie-consent").animate({top:"-900px"},600,function(){$(this).remove();
radioplayer.consts.show_cookie_anno&&-1==document.cookie.indexOf("rp-seen-cookie-anno")&&radioplayer.services.showCookieAnno()})},createExpiringCookie:function(a,b){if(-1==document.cookie.indexOf(a)){var c=new Date;c.setTime(c.getTime()+1E3*b);document.cookie=a+"\x3dyes;max-age\x3d"+b+";expires\x3d"+c.toUTCString()}},showCookieConsent:function(){/(Safari)/.test(user.browser.family)?radioplayer.services.showAnno(radioplayer.lang.general.reduced_func_anno):($(".radioplayer").append('\x3cdiv class\x3d"radioplayer-cookie-consent"\x3e\x3ca href\x3d"#" class\x3d"cookie-consent-button"\x3e'+
radioplayer.lang.general.cookie_consent_dismiss+'\x3c/a\x3e\x3cdiv class\x3d"cookie-consent-text"\x3e'+radioplayer.lang.general.cookie_consent+"\x3c/div\x3e\x3c/div\x3e"),$(".radioplayer-cookie-consent").on("click","a.cookie-consent-button",radioplayer.services.hideCookieConsent));radioplayer.services.hideCookieDependentFeatures()},showOverlay:function(a,b,c){c?$(".radioplayer-body").append('\x3cdiv class\x3d"radioplayer-prerolloverlay"\x3e'+a+"\x3c/div\x3e"):(c=xDomainProxyUrl,a=a+(0<a.indexOf("?")?
"\x26":"?")+"rpXDProxy\x3d"+encodeURIComponent(c),$(".radioplayer-body").append('\x3cdiv class\x3d"radioplayer-prerolloverlay"\x3e\x3ciframe src\x3d"'+a+'"\x3e\x3c/iframe\x3e\x3c/div\x3e'));if(this.unmuteAfterOverlay=b)radioplayer.controls.volumeLocked=!0,radioplayer.consts.is_iOS||radioplayer.consts.is_Android?(radioplayer.controls.isPlaying&&radioplayer.emp.stop(),radioplayer.controls.showPressPlayPrompt()):(radioplayer.controls.savedVolume=radioplayer.controls.currentVolume,radioplayer.emp.ready?
radioplayer.emp.setVolume(0):(radioplayer.controls.currentVolume=0,radioplayer.controls.onVolumeUpdate("",{volume:0})))},hideOverlay:function(){radioplayer.services.unmuteAfterOverlay&&(radioplayer.controls.volumeLocked=!1,radioplayer.consts.is_iOS||radioplayer.consts.is_Android?radioplayer.emp.resume():radioplayer.emp.setVolume(Math.round(radioplayer.controls.savedVolume)));$(".radioplayer-prerolloverlay").remove()},showCookieDependentFeatures:function(){$("#mystations-toggle").removeClass("hidden");
$("#toggle-mystations").show();$("#menu-nav-main li").eq(2).removeClass("first");$("#menu-nav-main li").eq(0).show().addClass("first");$("#menu-nav-main li").eq(1).show();radioplayer.consts.show_cookie_dependent_features=!0},hideCookieDependentFeatures:function(){$("#mystations-toggle").addClass("hidden");$("#toggle-mystations").hide();$("#menu-nav-main li").eq(0).hide().removeClass("first");$("#menu-nav-main li").eq(1).hide();$("#menu-nav-main li").eq(2).addClass("first");radioplayer.consts.show_cookie_dependent_features=
!1},xDomainIframeCallback:function(a){"post-preroll-proceed"==jQuery.parseJSON(a).method&&radioplayer.services.hideOverlay()},saveMyStationsOrder:function(){for(var a="",b=0;b<radioplayer.settings.presets.length;b++)a+=(""==a?"":",")+b+":"+radioplayer.settings.presets[b];radioplayer.services.saveCookie("ms/s","ms",a)},getAPI:function(a,b){$.ajax({url:a,dataType:"script",cache:!1,success:function(){"undefined"!==typeof b&&b()}})},analytics:{loaded:!1,$iframe:null,init:function(){radioplayer.services.analytics.$iframe=
$("\x3ciframe /\x3e",{src:radioplayer.consts.iframe.analytics+"?rpid\x3d"+currentStationID+"\x26cType\x3d"+(audioLive?"live":"od\x26odUrl\x3d"+audioFlash[0].audioUrl),name:"GAAnalytics",id:"GAAnalytics","class":"crossdomain-iframe",load:function(){window.postMessage&&(radioplayer.services.analytics.loaded=!0,setTimeout(function(){radioplayer.services.analytics.heartbeat()},6E4),window.onbeforeunload=function(a){radioplayer.services.analytics.heartbeat()})}});radioplayer.objs.body.append(radioplayer.services.analytics.$iframe)},
sendEvent:function(a,b,c,e,d){radioplayer.services.analytics.loaded&&(radioplayer.utils.output("iframe loaded"),radioplayer.consts.consolelog&&console.dir($("#GAAnalytics")[0]),$("#GAAnalytics")[0].contentWindow.postMessage(JSON.stringify({type:"Event",category:a,action:b,label:c,value:e,noninteraction:d}),"*"))},sendPageview:function(a){radioplayer.services.analytics.loaded&&$("#GAAnalytics")[0].contentWindow.postMessage(JSON.stringify({type:"Pageview",reason:a}),"*")},heartbeat:function(){radioplayer.services.analytics.loaded&&
$("#GAAnalytics")[0].contentWindow.postMessage(JSON.stringify({type:"Heartbeat"}),"*")}},CrossDomain:{prototype:{_processData:function(a){radioplayer.stnList=a;$(radioplayer.services).trigger("stationListSet")}}}};
radioplayer.emp={DEBUG:!1,player:{},ready:!1,id:"empv3",retryCount:5,preferHtml5Audio:!1,event:{mode:"mode",loadProgress:"loadProgress",startPlaying:"startPlaying",pausePlaying:"pausePlaying",resumed:"resumed",stopped:"stopped",cleanedup:"cleanedup",durationSet:"durationSet",ended:"ended",update:"update",volumeSet:"volumeSet",securityError:"securityError",error:"error",noSupport:"noSupport"},init:function(){this.player.html.init(this);this.player.flash.init(this);this.player.flash.available=swfobject.hasFlashPlayerVersion(this.player.flash.flashVersion);
this.player.flash.available&&this.player.html.available&&this.preferHtml5Audio?(this.player.html.used=!0,this.DEBUG&&radioplayer.utils.output("emp: HTML5 Player Used")):this.player.flash.available&&this.player.html.available?(this.player.flash.used=!0,this.DEBUG&&radioplayer.utils.output("emp: FLASH Player Used")):this.player.html.available?(this.player.html.used=!0,this.DEBUG&&radioplayer.utils.output("emp: HTML5 Player Used")):this.player.flash.available?(this.player.flash.used=!0,this.DEBUG&&radioplayer.utils.output("emp: FLASH Player Used")):
($(this).trigger(this.event.noSupport,{}),this.DEBUG&&radioplayer.utils.output("emp: No Player available for this browser"));this.DEBUG&&this.eventInspector()},dataReady:function(){this.solution("dataReady")},eventInspector:function(){var a=this;$.each(this.event,function(b,c){$(a).bind(c,function(a,d){radioplayer.utils.output("emp: "+b+' event: "'+c+'" : %o | custom: %o',a,d)})})},setParams:function(a,b,c,e,d,g){this.init();this.solution("setParams",a,b,c,e,d,g);this.player.flash.used&&this.player.flash.createObject()},
setAudioParams:function(a,b,c,e,d){this.preferHtml5Audio=d;this.init();d=[];this.player.flash.used?d=a:this.player.html.used&&(d=b);"undefined"!=typeof d&&d.length||$(this).trigger(this.event.error,{});this.solution("setAudioParams",d,c,e);this.player.flash.used&&this.player.flash.createObject()},resetAttemptCount:function(){this.solution("resetAttemptCount")},solution:function(a){var b=Array.prototype.slice.call(arguments,1),c;this.player.flash.used?c=this.player.flash:this.player.html.used?c=this.player.html:
$(this).trigger(this.event.noSupport,{});if(c&&"function"===typeof c[a])return c[a].apply(c,b)},loadRTMPStream:function(a,b){this.solution("loadRTMPStream",a,b)},loadHTTPStream:function(a){this.solution("loadHTTPStream",a)},loadHTTPMP4M4AStream:function(a){this.solution("loadHTTPMP4M4AStream",a)},loadPlaylist:function(a){this.solution("loadPlaylist",a)},resume:function(){this.ready&&(this.errorCount=0,this.solution("resume"))},pause:function(){this.solution("pause")},stop:function(){this.solution("stop")},
cleanup:function(){this.solution("cleanup")},getPosition:function(){return this.solution("getPosition")},getDuration:function(){return this.solution("getDuration")},seek:function(a){this.solution("seek",a)},setVolume:function(a){this.solution("setVolume",a)},setBufferTime:function(a){this.solution("setBufferTime",a)},setPlaybackMode:function(a){this.solution("setPlaybackMode",a)},getPlaybackMode:function(){return this.solution("getPlaybackMode")},getVersion:function(){return this.solution("getVersion")},
memoryreset:function(){return this.solution("memoryreset")},setMemoryLimit:function(a){this.solution("setMemoryLimit",a)},setStallTimeout:function(a){this.solution("setStallTimeout",a)}};
radioplayer.emp.player.flash={ready:!1,waitingForReady:!1,swfname:null,api:null,$api:null,available:!1,used:!1,audioType:"http",audioUrl:"",audioServer:"",audioEndpoint:"",audioLive:!0,flashVersion:"10.0.0",audioFlash:[],init:function(a){this.api=a;this.$api=$(a)},createObject:function(a,b){var c=this;null==a&&(a="EMP3.2.1.swf");this.swfname=a.split(".swf")[0];var e={id:this.swfname,name:this.swfname};null==b&&(b="0");swfobject.embedSWF("flash/"+a,this.api.id,b,b,this.flashVersion,null,{},{menu:"false",
scale:"noScale",allowFullscreen:"false",allowScriptAccess:"always",bgcolor:"0x000000"},e,function(a){0==a.success&&c.$api.trigger(c.api.event.noSupport,c.getEventObject())})},dataReady:function(){this.api.DEBUG&&radioplayer.utils.output("flash: Try to initialize the EMP SWF, if it is ready");this.ready?(this.api.DEBUG&&radioplayer.utils.output("flash: EMP SWF ALREADY READY"),this.passParamsToEMP()):(this.api.DEBUG&&radioplayer.utils.output("flash: EMP SWF NOT READY"),this.waitingForReady=!0,this.waitingTimeout=
setTimeout($.proxy(function(){this.waitingForReady&&(this.waitingForReady=!1,radioplayer.emp.player.ready=!1,radioplayer.emp.player.flash.available=!1,radioplayer.emp.player.flash.used=!1,radioplayer.emp.player.flash.blocked=!0,radioplayer.emp.setAudioParams(window.audioFlash,window.audioHTML,window.audioLive,window.bufferTime,!0),radioplayer.emp.dataReady())},this),1500))},empReady:function(){this.api.DEBUG&&radioplayer.utils.output("flash: EMP SWF REPORTS READY");this.ready=!0;this.api.ready=!0;
this.empswf=document.getElementById(this.swfname);this.respondToEmp("empReady");this.waitingForReady&&(this.waitingForReady=!1,this.api.DEBUG&&radioplayer.utils.output("flash: EMP SWF is now ready to begin receiving parameters"),this.passParamsToEMP())},setParams:function(a,b,c,e,d,g){this.audioType=a;this.audioUrl=b;this.audioServer=c;this.audioEndpoint=e;this.audioLive=d;this.bufferTime=g},setAudioParams:function(a,b,c){this.audioFlash=a&&a.length?a:[];this.audioLive=b;this.bufferTime=c},passParamsToEMP:function(){this.api.DEBUG&&
this.empswf.emp_setDebugMode(!0);this.api.DEBUG&&radioplayer.utils.output("flash: Passing parameters to EMP SWF object");this.audioFlash[0].hasOwnProperty("cacheKiller")&&(radioplayer.utils.output("Set cache killer to: "+(this.audioFlash[0].cacheKiller?"true":"false")),this.empswf.emp_setUseCacheKiller(this.audioFlash[0].cacheKiller));this.audioFlash[0].hasOwnProperty("appendVersion")&&(radioplayer.utils.output("Set appendVersion to: "+(this.audioFlash[0].appendVersion?"true":"false")),this.empswf.emp_setAppendVersionToUrl(this.audioFlash[0].appendVersion));
this.audioFlash.length?this.setAudio(this.audioFlash):"rtmp"===this.audioType?this.loadRTMPStream(this.audioServer,this.audioEndpoint):"http"===this.audioType?this.loadHTTPStream(this.audioUrl):"httpmp4m4a"===this.audioType||"httpaac"===this.audioType?this.loadHTTPMP4M4AStream(this.audioUrl):"playlist"===this.audioType?this.loadPlaylist(this.audioUrl):this.$api.trigger(this.api.event.noSupport,this.getEventObject());this.setPlaybackMode(this.audioLive?"live":"od");this.setVolume(radioplayer.controls.currentVolume);
this.empswf.emp_setBufferTime(this.bufferTime)},setAudio:function(a){this.cleanup();this.audioFlash=a&&a.length?a:[];(a=this.audioFlash.length?this.audioFlash[0]:!1)?this.passSetAudio(a):this.$api.trigger(this.api.event.noSupport,this.getEventObject())},passSetAudio:function(a){"rtmp"===a.audioType?this.loadRTMPStream(a.audioServer,a.audioEndpoint):"http"===a.audioType?this.loadHTTPStream(a.audioUrl):"httpmp4m4a"===a.audioType?this.loadHTTPMP4M4AStream(a.audioUrl):"playlist"===a.audioType&&this.loadPlaylist(a.audioUrl)},
respondToEmp:function(a){this.empswf.emp_reportResponse(a)},empPlaylistLoaded:function(){this.respondToEmp("radioplayer.emp.empPlaylistLoaded")},testRunnerRun:function(a){this[a]()},testRunnerLoadPlaylist:function(){this.empswf.emp_loadPlaylist("testplaylists/testXSPF.xspf")},loadRTMPStream:function(a,b){this.empswf.emp_loadRTMPStream(a,b)},loadHTTPStream:function(a){this.empswf.emp_loadHTTPStream(a)},loadHTTPMP4M4AStream:function(a){this.empswf.emp_loadHTTPMP4M4AStream(a)},loadPlaylist:function(a){this.empswf.emp_loadPlaylist(a)},
resume:function(){this.empswf.emp_resume()},pause:function(){this.empswf.emp_pause()},stop:function(){this.empswf.emp_stop()},cleanup:function(){this.empswf.emp_cleanup()},getPosition:function(){return this.empswf.emp_getPosition()},getDuration:function(){return this.empswf.emp_getDuration()},seek:function(a){this.empswf.emp_seek(a)},setVolume:function(a){this.empswf.emp_setVolume(a)},setBufferTime:function(a){this.empswf.emp_setBufferTime(a)},setPlaybackMode:function(a){this.audioLive="live"==a;
this.empswf.emp_setPlaybackMode(a)},getPlaybackMode:function(){return this.audioLive?"live":"od"},getVersion:function(){return this.empswf.emp_getVersion()},memoryreset:function(){return this.empswf.emp_memoryreset()},setMemoryLimit:function(a){this.empswf.emp_setMemoryLimit(a)},setStallTimeout:function(a){this.empswf.emp_setStallTimeout(a)},reportEMPOutput:function(a){a=$.parseJSON(a);this.$api.trigger(a.type,a)},reportEMPError:function(a){a=$.parseJSON(a);102===a.code?this.$api.trigger(this.api.event.securityError,
a):this.$api.trigger(this.api.event.error,a)},resetAttemptCount:function(){},getEventObject:function(){return{mode:this.audioLive?"live":"od"}}};
radioplayer.emp.player.html={version:"1.0 of the HTML5 Audio player for EMP V3",ready:!1,available:!1,used:!1,supported:!1,monitoring:!1,disconnected:!0,firstConnection:!0,ignoringCommands:/(iphone|ipad|ipod|android|blackberry|playbook|windows phone)/i.test(navigator.userAgent),seekTimeoutId:null,stallTime:5E3,stallTimeoutId:null,errorTimeoutId:null,errorCount:0,api:null,$api:null,autoplay:!0,duration:0,audioType:"http",audioUrl:"",audioServer:"",audioEndpoint:"",audioLive:!0,audioHTML:[],formats:{mp3:["audio/mpeg"],
mp4:["audio/mp4","audio/x-m4a"],hls:["application/vnd.apple.mpegurl"],m3u:["audio/mpegurl","audio/x-mpegurl"],pls:["audio/x-scpls"]},canPlay:{},audioElem:null,$audio:null,init:function(a){var b=this;this.api=a;this.$api=$(a);this.audioElem=document.createElement("audio");this.$audio=$(this.audioElem);if(this.available=!!this.audioElem.canPlayType)$.each(this.formats,function(a,e){$.each(e,function(e,g){b.canPlay[a]=b.available&&b.audioElem.canPlayType(g);b.api.DEBUG&&radioplayer.utils.output("html: audio.canPlayType("+
g+") \x3d "+b.canPlay[a]);if(b.canPlay[a])return!1})}),this.audioElem.preload="none",this.attachEvents(),$("#"+this.api.id).append(this.audioElem),this.ready=!0,this.api.ready=!0},dataReady:function(){this.api.DEBUG&&radioplayer.utils.output("html: dataReady()");this.passParamsToHTML()},setParams:function(a,b,c,e,d,g){this.audioType=a;this.audioUrl=b;this.audioServer=c;this.audioEndpoint=e;this.audioLive=d;this.bufferTime=g},setAudioParams:function(a,b,c){this.audioHTML=a&&a.length?a:[];this.audioLive=
b;this.bufferTime=c},passParamsToHTML:function(){this.api.DEBUG&&radioplayer.utils.output("Passing parameters to HTML audio");this.audioHTML.length?this.setAudio(this.audioHTML):"rtmp"===this.audioType?this.loadRTMPStream(this.audioServer,this.audioEndpoint):"http"===this.audioType?this.loadHTTPStream(this.audioUrl):"httpmp4m4a"===this.audioType?this.loadHTTPMP4M4AStream(this.audioUrl):"playlist"===this.audioType?this.loadPlaylist(this.audioUrl):this.noSupport();this.setPlaybackMode(this.audioLive?
"live":"od");this.setVolume(radioplayer.controls.currentVolume);this.$api.trigger(this.api.event.volumeSet,this.getEventObject())},setAudio:function(a){var b=this,c;this.reset();this.audioHTML=a&&a.length?a:[];$.each(this.audioHTML,function(a,d){if(b.canPlayAudio(d))return c=d,!1});(a=c)?this.passSetAudio(a):this.noSupport()},canPlayAudio:function(a){if("rtmp"===a.audioType)return!1;if("http"===a.audioType)return this.canPlay.mp3;if("httpmp4m4a"===a.audioType)return this.canPlay.mp4;if("playlist"===
a.audioType)return(a=this.detectPlaylistType(a.audioUrl))&&this.canPlay[a]},passSetAudio:function(a){"rtmp"===a.audioType?this.loadRTMPStream(a.audioServer,a.audioEndpoint):"http"===a.audioType?this.loadHTTPStream(a.audioUrl):"httpmp4m4a"===a.audioType?this.loadHTTPMP4M4AStream(a.audioUrl):"playlist"===a.audioType&&this.loadPlaylist(a.audioUrl)},setAudioUrl:function(a){this.reset();this.firstConnection=this.supported=!0;this.audioUrl=a;!this.ignoringCommands&&this.autoplay&&this.resume()},reset:function(){clearTimeout(this.stallTimeoutId);
clearTimeout(this.errorTimeoutId);this.disconnected||this.disconnectStream();this.supported=this.monitoring=!1;this.duration=0},connectStream:function(){this.supported&&(this.firstConnection&&(this.firstConnection=!1,this.$api.trigger(this.api.event.stopped,{}),this.$api.trigger(this.api.event.cleanedup,{})),this.disconnected=!1,this.audioElem.src=this.audioUrl,this.audioElem.load())},disconnectStream:function(){this.disconnected=!0;this.audioElem.paused||this.audioElem.pause();this.audioElem.src=
"about:blank";this.audioElem.load()},refreshConnection:function(){this.api.DEBUG&&radioplayer.utils.output("html: refreshConnection()");clearTimeout(this.stallTimeoutId);clearTimeout(this.errorTimeoutId);this.supported&&!this.disconnected&&(this.disconnectStream(),this.connectStream(),this.resume())},noSupport:function(){this.supported=!1;this.$api.trigger(this.api.event.noSupport,this.getEventObject())},detectPlaylistType:function(a){a=a&&a.split&&a.split(".");if(a=1<a.length?a[a.length-1]:""){if("m3u8"===
a||"hls"===a)return"hls";if("m3u"===a)return"m3u";if("pls"===a)return"pls"}else return!1},loadRTMPStream:function(a,b){this.noSupport()},loadHTTPStream:function(a){this.canPlay.mp3?this.setAudioUrl(a):this.noSupport()},loadHTTPMP4M4AStream:function(a){this.canPlay.mp4?this.setAudioUrl(a):this.noSupport()},loadPlaylist:function(a){var b=this.detectPlaylistType(a);b&&this.canPlay[b]?this.setAudioUrl(a):this.noSupport()},resume:function(){clearTimeout(this.stallTimeoutId);clearTimeout(this.errorTimeoutId);
this.disconnected&&this.connectStream();this.supported?this.audioElem.play():this.noSupport()},pause:function(){clearTimeout(this.stallTimeoutId);clearTimeout(this.errorTimeoutId);this.audioElem.pause()},stop:function(){clearTimeout(this.stallTimeoutId);clearTimeout(this.errorTimeoutId);this.audioElem.pause()},cleanup:function(){this.reset();this.$api.trigger(this.api.event.cleanedup,this.getEventObject())},getPosition:function(){return 1E3*this.audioElem.currentTime},getDuration:function(){var a=
this.audioElem;return 1E3*(isFinite(a.duration)?a.duration:0)},seek:function(a){var b=this,c=this.audioElem;clearTimeout(this.stallTimeoutId);clearTimeout(this.errorTimeoutId);if(!this.audioLive&&!this.disconnected)if(this.supported){this.ignoringCommands&&c.play();try{if(!c.seekable||"object"===typeof c.seekable&&0<c.seekable.length)c.currentTime=a,c.play();else throw 1;}catch(e){this.seekTimeoutId=setTimeout(function(){b.seek(a)},250)}}else this.noSupport()},setVolume:function(a){this.audioElem.volume=
a/100},setBufferTime:function(a){return!1},setPlaybackMode:function(a){this.audioLive="live"==a;this.$api.trigger(this.api.event.mode,this.getEventObject())},getPlaybackMode:function(){return this.audioLive?"live":"od"},getVersion:function(){return this.version},memoryreset:function(){return!1},setMemoryLimit:function(a){return!1},setStallTimeout:function(a){"number"===typeof a&&(this.stallTime=2E3>a?2E3:a)},attachEvents:function(){var a=this;this.audioElem.addEventListener("progress",function(){a.audioLive||
a.$api.trigger(a.api.event.loadProgress,a.getEventObject())},!1);this.audioElem.addEventListener("timeupdate",function(){var b=a.getDuration();a.duration!==b&&(a.duration=b,a.$api.trigger(a.api.event.durationSet,a.getEventObject()));a.audioLive||a.$api.trigger(a.api.event.update,a.getEventObject())},!1);this.audioElem.addEventListener("play",function(){clearTimeout(a.stallTimeoutId);clearTimeout(a.errorTimeoutId);a.ignoringCommands=!1;a.audioLive&&(a.monitoring=!0);a.$api.trigger(a.api.event.resumed,
a.getEventObject())},!1);this.audioElem.addEventListener("playing",function(){clearTimeout(a.stallTimeoutId);a.$api.trigger(a.api.event.startPlaying,a.getEventObject());radioplayer.emp.player.html.errorCount=0},!1);this.audioElem.addEventListener("waiting",function(){a.audioLive&&a.monitoring&&(clearTimeout(a.stallTimeoutId),radioplayer.emp.player.html.errorCount<radioplayer.emp.retryCount&&(a.stallTimeoutId=setTimeout(function(){a.refreshConnection()},a.stallTime)))},!1);this.audioElem.addEventListener("pause",
function(){clearTimeout(a.stallTimeoutId);clearTimeout(a.errorTimeoutId);a.audioLive?(a.monitoring=!1,a.disconnectStream(),a.$api.trigger(a.api.event.stopped,a.getEventObject())):a.$api.trigger(a.api.event.pausePlaying,a.getEventObject())},!1);this.audioElem.addEventListener("ended",function(){a.$api.trigger(a.api.event.ended,a.getEventObject())},!1);this.audioElem.addEventListener("volumechange",function(){a.$api.trigger(a.api.event.volumeSet,a.getEventObject())},!1);this.audioElem.addEventListener("durationchange",
function(){a.duration=a.getDuration();a.$api.trigger(a.api.event.durationSet,a.getEventObject())},!1);this.audioElem.addEventListener("error",function(){radioplayer.emp.player.html.errorCount++;var b=a.audioElem.error.code;a.disconnected||(clearTimeout(a.stallTimeoutId),clearTimeout(a.errorTimeoutId),radioplayer.emp.player.html.errorCount<radioplayer.emp.retryCount?a.errorTimeoutId=setTimeout(function(){a.refreshConnection()},a.stallTime/2):(a.disconnected=!0,a.$api.trigger(a.api.event.error,$.extend(a.getEventObject(),
{code:b}))))},!1)},resetAttemptCount:function(){this.errorCount=0},getEventObject:function(){var a=this.audioElem,b=a.seekable&&a.seekable.length?1:0;return{position:this.getPosition(),duration:this.getDuration(),volume:Math.round(100*a.volume),mode:this.audioLive?"live":"od",loadProgress:b,bytesLoaded:100*b,bytesTotal:100}}};
radioplayer.controls={rawDuration:0,duration:"00:00",muted:!1,currentVolume:100,savedVolume:0,currentPosition:0,volumeLocked:!1,volumeScrubHeight:44,progressScrubWidth:640,volumeScrubOffsetY:5,dragging:!1,isAllLoaded:!1,isLoading:!1,insertedODButtons:!1,isPlaying:!1,userClickedControls:!1,isListening:!1,mouseOverProgress:!1,volControlLeft:0,volControlWidth:0,muteThres:15,topEndThres:6,volWavesWidth:0,volumeHover:0,mouseDownOnVolume:!1,pressPlayPromptShowing:!1,showPressPlayPrompt:function(){if(!radioplayer.controls.pressPlayPromptShowing){var a=
$('\x3cdiv class\x3d"point-prompt press-play-prompt"\x3e\x3cdiv class\x3d"prompt-text"\x3e'+radioplayer.lang.controls.press_play_prompt+"\x3c/div\x3e\x3c/div\x3e");$("#controls").append(a);radioplayer.controls.pressPlayPromptShowing=!0;a.on("click",function(){radioplayer.controls.hidePressPlayPrompt()});this.hideLoader();$(radioplayer.emp).on("startPlaying.hidePlayPrompt",function(){radioplayer.controls.hidePressPlayPrompt();$(radioplayer.emp).off("startPlaying.hidePlayPrompt")})}},hidePressPlayPrompt:function(){radioplayer.controls.pressPlayPromptShowing&&
(radioplayer.controls.pressPlayPromptShowing=!1,$(".press-play-prompt").remove())},formatPosition:function(a){var b=Math.floor(a/1E3%60),c=Math.floor(a/6E4%60);a=Math.floor(a/36E5%24);2>String(c).length&&(c="0"+c);2>String(b).length&&(b="0"+b);return a+":"+c+":"+b},cleanup:function(){this.isLoading=this.isAllLoaded=!1},mute:function(){(this.muted=!this.muted)?(this.savedVolume=this.currentVolume,radioplayer.emp.setVolume(0)):radioplayer.emp.setVolume(Math.round(this.savedVolume))},onVolumeUpdate:function(a,
b){this.currentVolume=b.volume;radioplayer.utils.output("on volume update: "+b.volume);var c="";0==b.volume?this.isListening&&this.isPlaying&&(radioplayer.controls.onSilent("mute"),this.isListening=!1):!this.isListening&&this.isPlaying&&(radioplayer.controls.onAudible(),this.isListening=!0);c=0==b.volume?"muted":20>b.volume?"p20":40>b.volume?"p40":60>b.volume?"p60":80>b.volume?"p80":"p100";$("#volume-control").removeClass("muted p20 p40 p60 p80 p100").addClass(c)},volumeIconMouseEnter:function(){radioplayer.consts.is_iOS||
radioplayer.consts.is_Android||this.volumeLocked||(this.volControlLeft=$("#volume-control").offset().left,this.volControlWidth=$("#volume-control").outerWidth(),this.volWavesWidth=this.volControlWidth-this.muteThres-this.topEndThres,$("#volume-control").addClass("hover"))},volumeIconMouseLeave:function(){radioplayer.consts.is_iOS||radioplayer.consts.is_Android||this.volumeLocked||($("#volume-control").removeClass("hover muted p20 p40 p60 p80 p100"),radioplayer.controls.muted?$("#volume-control").addClass("muted"):
20>radioplayer.controls.currentVolume?$("#volume-control").addClass("p20"):40>radioplayer.controls.currentVolume?$("#volume-control").addClass("p40"):60>radioplayer.controls.currentVolume?$("#volume-control").addClass("p60"):80>radioplayer.controls.currentVolume?$("#volume-control").addClass("p80"):$("#volume-control").addClass("p100"))},volumeIconMouseMove:function(a){if(!radioplayer.consts.is_iOS&&!radioplayer.consts.is_Android&&!this.volumeLocked){a=a.pageX-radioplayer.controls.volControlLeft;
var b="";a<radioplayer.controls.muteThres?radioplayer.controls.mouseDownOnVolume?(b="muted",$("#volume-control").attr("title",radioplayer.lang.controls.unmute)):radioplayer.controls.muted?(b="muted",$("#volume-control").attr("title",radioplayer.lang.controls.unmute)):(b=20>radioplayer.controls.currentVolume?"p20":40>radioplayer.controls.currentVolume?"p40":60>radioplayer.controls.currentVolume?"p60":80>radioplayer.controls.currentVolume?"p80":"p100",$("#volume-control").attr("title",radioplayer.lang.controls.mute)):
a>=radioplayer.controls.volControlWidth-radioplayer.controls.topEndThres?(b="p100",radioplayer.controls.volumeHover=100,$("#volume-control").attr("title",radioplayer.lang.controls.set_volume_100)):(radioplayer.controls.volumeHover=Math.round((a-radioplayer.controls.muteThres)/radioplayer.controls.volWavesWidth*100),b=20>radioplayer.controls.volumeHover?"p20":40>radioplayer.controls.volumeHover?"p40":60>radioplayer.controls.volumeHover?"p60":80>radioplayer.controls.volumeHover?"p80":"p100",$("#volume-control").attr("title",
radioplayer.lang.controls.set_volume));$("#volume-control").removeClass("muted p20 p40 p60 p80 p100").addClass(b)}},volumeIconMouseDown:function(a){radioplayer.consts.is_iOS||radioplayer.consts.is_Android||this.volumeLocked||(a.originalEvent.preventDefault?a.originalEvent.preventDefault():a.originalEvent.returnValue=!1,1===a.which&&(radioplayer.controls.mouseDownOnVolume=!0))},volumeIconMouseUp:function(a){radioplayer.consts.is_iOS||radioplayer.consts.is_Android||this.volumeLocked||1!==a.which||(radioplayer.controls.mouseDownOnVolume=
!1)},volumeIconClick:function(a){radioplayer.consts.is_iOS||radioplayer.consts.is_Android?$("#volume-controls").hasClass("showing-prompt")||radioplayer.controls.hidePressPlayPrompt():this.volumeLocked||(a.pageX-radioplayer.controls.volControlLeft<radioplayer.controls.muteThres?(radioplayer.utils.output("clicked mute"),radioplayer.controls.mute()):(radioplayer.utils.output("SET TO "+radioplayer.controls.volumeHover),radioplayer.controls.muted&&radioplayer.controls.mute(),radioplayer.emp.setVolume(radioplayer.controls.volumeHover),
radioplayer.services.saveCookie("vl/s","vl",radioplayer.controls.volumeHover)))},setVolumeTo:function(a){radioplayer.utils.output("access log "+a);this.muted&&this.mute();radioplayer.emp.setVolume(Math.round(a));radioplayer.services.saveCookie("vl/s","vl",a)},showPlay:function(a,b){$("#pause").is(":visible")&&$("#pause").hide();$("#stop").is(":visible")&&$("#stop").hide();$("#play").is(":visible")||($("#play").show(),$.browser.msie&&$("#play").css("display","block"));this.userClickedControls&&$("#play").focus();
this.userClickedControls=!1},hidePlay:function(a,b){this.isLive()?($("#pause").is(":visible")&&$("#pause").hide(),$("#stop").is(":visible")||($("#stop").show(),$.browser.msie&&$("#stop").css("display","block")),$("#progress-scrubber-load-bar").is(":visible")&&$("#progress-scrubber-load-bar").hide()):($("#pause").is(":visible")||($("#pause").show(),$.browser.msie&&$("#pause").css("display","block")),$("#stop").is(":visible")&&$("#stop").hide(),$("#progress-scrubber-load-bar").is(":visible")||$("#progress-scrubber-load-bar").show());
$("#play").is(":visible")&&$("#play").hide();this.userClickedControls&&(audioLive?$("#stop").focus():$("#pause").focus());this.userClickedControls=!1},toggleMyStations:function(a){a.preventDefault();$("#toggle-mystations").hasClass("in-mystations")?radioplayer.mystations.remove(currentStationID,"head-controls"):$("#toggle-mystations").hasClass("animating")||radioplayer.mystations.add(currentStationID,"head-controls")},onPositionUpdate:function(a,b){this.currentPosition=b.position/1E3;this.isAllLoaded?
($("#progress-scrubber-playback-bar").is(":visible")||$("#progress-scrubber-playback-bar").show(),$("#progress-scrubber-load-bar").width($("#progress-scrubber-background").width()+"px"),$("#duration").html(this.formatPosition(b.position)+"/"+this.duration)):($("#progress-scrubber-playback-bar").is(":visible")&&$("#progress-scrubber-playback-bar").hide(),$("#progress-scrubber-handle").is(":visible")&&$("#progress-scrubber-handle").hide());var c=b.position/this.rawDuration,e=c*($("#progress-scrubber-background").width()-
$("#progress-scrubber-handle").outerWidth());this.dragging||$("#progress-scrubber-handle").css("left",e+"px");c*=$("#progress-scrubber-background").outerWidth();$("#progress-scrubber-playback-bar").width(c)},onLoadProgressUpdate:function(a,b){this.isLive()?($("#progress-scrubber-load-bar").width("0px"),this.isLoading=!1,this.isLive()&&$("#duration").is(":visible")&&$("#duration").hide()):($("#progress-scrubber-load-bar").width((this.progressScrubWidth+10)*b.loadProgress+"px"),.99<=b.loadProgress?
(this.isAllLoaded=!0,radioplayer.utils.output("fire emp loaded event"),$(radioplayer.emp).trigger("loaded"),$("#progress-scrubber-load-bar").width(this.progressScrubWidth+10+"px")):this.isAllLoaded=!1)},hideLoaderOnStart:function(a,b){this.hideLoader();radioplayer.utils.output("begin");this.isLive()&&(this.isAllLoaded=!0)},hideLoader:function(a,b){this.isLoading=!1;this.isLive()?$("#live-strip").removeClass("loading"):($("#od-strip #duration").show(),$("#progress-scrubber-playback-bar").show())},
showLoader:function(a,b){this.isLoading=!0;this.isLive()?$("#live-strip").addClass("loading"):($("#progress-scrubber-handle").is(":visible")&&$("#progress-scrubber-handle").hide(),$("#progress-scrubber-playback-bar").is(":visible")&&$("#progress-scrubber-playback-bar").hide(),$("#duration").html(radioplayer.lang.controls.loading),"none"===$("#duration").css("display")&&$("#duration").show())},setDuration:function(a,b){if(!audioLive){this.rawDuration=b.duration;this.duration=this.formatPosition(this.rawDuration);
this.checkDuration();var c=Math.floor(b.duration/1E3);if(0==this.insertedODButtons){var e='\x3cbutton type\x3d"button" class\x3d"access od-skip" data-offset\x3d"5" tabindex\x3d"0"\x3e'+radioplayer.lang.controls.skip_forward_5_seconds+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"access od-skip" data-offset\x3d"-5" tabindex\x3d"0"\x3e'+radioplayer.lang.controls.skip_back_5_seconds+"\x3c/button\x3e",d='\x3cbutton type\x3d"button" class\x3d"access od-skip" data-offset\x3d"30" tabindex\x3d"0"\x3e'+
radioplayer.lang.controls.skip_forward_30_seconds+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"access od-skip" data-offset\x3d"-30" tabindex\x3d"0"\x3e'+radioplayer.lang.controls.skip_back_30_seconds+"\x3c/button\x3e",g='\x3cbutton type\x3d"button" class\x3d"access od-skip" data-offset\x3d"60" tabindex\x3d"0"\x3e'+radioplayer.lang.controls.skip_forward_1_minute+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"access od-skip" data-offset\x3d"-60" tabindex\x3d"0"\x3e'+radioplayer.lang.controls.skip_back_1_minute+
"\x3c/button\x3e",f='\x3cbutton type\x3d"button" class\x3d"access od-skip" data-offset\x3d"300" tabindex\x3d"0"\x3e'+radioplayer.lang.controls.skip_forward_5_minutes+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"access od-skip" data-offset\x3d"-300" tabindex\x3d"0"\x3e'+radioplayer.lang.controls.skip_back_5_minutes+"\x3c/button\x3e",h='\x3cbutton type\x3d"button" class\x3d"access od-skip" data-offset\x3d"600" tabindex\x3d"0"\x3e'+radioplayer.lang.controls.skip_forward_10_minutes+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"access od-skip" data-offset\x3d"-600" tabindex\x3d"0"\x3e'+
radioplayer.lang.controls.skip_back_10_minutes+"\x3c/button\x3e",n='\x3cbutton type\x3d"button" class\x3d"access od-skip" data-offset\x3d"1800" tabindex\x3d"0"\x3e'+radioplayer.lang.controls.skip_forward_30_minutes+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"access od-skip" data-offset\x3d"-1800" tabindex\x3d"0"\x3e'+radioplayer.lang.controls.skip_forward_30_minutes+"\x3c/button\x3e";3600<c?$("#od-strip").append(g+h+n):600<c?$("#od-strip").append(d+g+f):120<c?$("#od-strip").append(e+d+g):
30<c?$("#od-strip").append(e+d):$("#od-strip").append(e);this.insertedODButtons=!0}}},checkDuration:function(){this.isLive()?($("#live-strip").show(),$("#od-strip").hide()):($("#live-strip").hide(),$("#od-strip").show(),this.isAllLoaded?$("#progress-scrubber-playback-bar").is(":visible")||$("#progress-scrubber-playback-bar").show():($("#progress-scrubber-handle").is(":visible")&&$("#progress-scrubber-handle").hide(),$("#progress-scrubber-playback-bar").is(":visible")&&$("#progress-scrubber-playback-bar").hide(),
$("#duration").html(radioplayer.lang.controls.loading)));this.isPlaying&&this.hidePlay();this.isLoading&&$("#duration").html(radioplayer.lang.controls.loading)},isLive:function(){var a=0===this.rawDuration||null==this.rawDuration;return a=radioplayer.emp.ready?"live"===radioplayer.emp.getPlaybackMode():0===this.rawDuration||null==this.rawDuration},resetDuration:function(a,b){this.rawDuration=0;this.duration=this.formatPosition(0);this.onPositionUpdate(null,{position:0});this.checkDuration()},seek:function(a){if(this.lastPosition!==
$("#progress-scrubber-handle").offset().left){this.lastPosition=a=$("#progress-scrubber-handle").offset().left-$("#progress-scrubber-background").offset().left;var b=$("#progress-scrubber-background").width()-$("#progress-scrubber-handle").outerWidth();a/=b;b=a*this.rawDuration;$("#duration").html(this.formatPosition(b)+"/"+this.duration);$("#progress-scrubber-playback-bar").outerWidth(a*$("#progress-scrubber-background").width())}},seekStart:function(){this.dragging=!0;radioplayer.emp.pause()},seekStop:function(a){this.dragging=
!1;this.updateSeekPosition(a);$("#progress-scrubber-handle").is(":visible")&&!this.mouseOverProgress&&($("#progress-scrubber-handle").fadeOut(200),$("#od-title").fadeIn(200));radioplayer.services.analytics.sendEvent("Navigation","On Demand Slider",window.location.href,null,null)},seekOffset:function(a){a=this.currentPosition+parseInt(a);var b=this.rawDuration/1E3;a>b&&(a=b);radioplayer.emp.seek(a)},updateSeekPosition:function(a){a=$("#progress-scrubber-background").width()-$("#progress-scrubber-handle").outerWidth();
a=this.lastPosition/a*this.rawDuration/1E3;radioplayer.utils.output(a);a=Math.max(a,0);radioplayer.emp.seek(a)},progressBarClick:function(a){if(!this.isLive()&&this.isAllLoaded){a=a.pageX-$("#progress-scrubber-background").offset().left;var b=$("#progress-scrubber-handle").outerWidth()/2,c=$("#progress-scrubber-background").outerWidth()-$("#progress-scrubber-handle").outerWidth()/2,e=0,e=a<b?0:a>c?1:(a-$("#progress-scrubber-handle").outerWidth()/2)/($("#progress-scrubber-background").outerWidth()-
$("#progress-scrubber-handle").outerWidth()/2);radioplayer.emp.seek(e*this.rawDuration/1E3);radioplayer.services.analytics.sendEvent("Navigation","On Demand Slider",window.location.href,null,null);$("#progress-scrubber-handle").is(":hidden")&&(this.mouseOverProgress=!0,$("#progress-scrubber-handle").stop(!0,!0).fadeIn(200),$("#od-title").stop(!0,!0).fadeOut(200))}},mouseEnterProgress:function(){!this.isLive()&&this.isAllLoaded&&(this.mouseOverProgress=!0,$("#progress-scrubber-handle").stop(!0,!0).fadeIn(200),
$("#od-title").stop(!0,!0).fadeOut(200))},mouseLeaveProgress:function(){!this.isLive()&&this.isAllLoaded&&(this.mouseOverProgress=!1,this.dragging||($("#progress-scrubber-handle").stop(!0,!0).fadeOut(200),$("#od-title").stop(!0,!0).fadeIn(200)))},logSecurityError:function(a,b){radioplayer.utils.output("EMP has encountered a security error, audio may not play.")},onEnd:function(a,b){radioplayer.utils.output("end");this.onPositionUpdate(null,{position:this.rawDuration})},onAudible:function(){0==this.isListening&&
0<this.currentVolume&&(radioplayer.services.analytics.sendPageview(""),this.isListening=!0)},onSilent:function(a){1==this.isListening&&(radioplayer.services.analytics.sendPageview("/"+a),this.isListening=!1)},onStart:function(){this.isPlaying=!0;this.hideLoader();this.hideErrorMsg()},onStop:function(){this.isPlaying=!1;audioLive&&"stream"==nowPlayingSource&&radioplayer.playing.updateText(currentStationName,"")},onClickPause:function(){this.userClickedControls=!0},onClickPlay:function(){audioLive&&
this.showLoader();this.userClickedControls=!0},onClickStop:function(){audioLive&&this.hideLoader();this.userClickedControls=!0},onNoSupport:function(){radioplayer.utils.output("The EMP player does not support the audio format. (Varies by browser and whether Flash available.)");this.hideLoader();this.showPlay();this.showErrorMsg(radioplayer.lang.stream_error.device_incompatible)},onError:function(){this.hideLoader();this.showPlay();radioplayer.emp.resetAttemptCount();this.showErrorMsg(radioplayer.lang.stream_error.unavailable)},
showErrorMsg:function(a){$(".radioplayer-erroroverlay").length||$(".radioplayer-head").after('\x3cdiv class\x3d"radioplayer-erroroverlay"\x3e'+a+"\x3c/div\x3e")},hideErrorMsg:function(){$(".radioplayer-erroroverlay").remove()},resizeProgressScrubber:function(){var a=$("#od-strip").parent().width()-$("#duration").width()-5;$("#progress-scrubber-background").width(a+"px")},init:function(){$("#controls h2").html(radioplayer.lang.controls.player_controls);$("#controls #play span").html(radioplayer.lang.controls.play);
$("#controls #play").attr("title",radioplayer.lang.controls.play);$("#controls #pause span").html(radioplayer.lang.controls.pause);$("#controls #pause").attr("title",radioplayer.lang.controls.pause);$("#controls #stop span").html(radioplayer.lang.controls.stop);$("#controls #stop").attr("title",radioplayer.lang.controls.stop);$("#controls #duration").html(radioplayer.lang.controls.loading);$("#volume-mute").html(radioplayer.lang.controls.set_volume);$("#volume-1").html(radioplayer.lang.controls.set_volume_20);
$("#volume-2").html(radioplayer.lang.controls.set_volume_40);$("#volume-3").html(radioplayer.lang.controls.set_volume_60);$("#volume-4").html(radioplayer.lang.controls.set_volume_80);$("#volume-5").html(radioplayer.lang.controls.set_volume_100);$(".loading-indicator").html(radioplayer.lang.controls.loading);$(radioplayer.emp).on("update",$.proxy(this.onPositionUpdate,this)).on("volumeSet",$.proxy(this.onVolumeUpdate,this)).on("pausePlaying",$.proxy(this.showPlay,this)).on("ended",$.proxy(this.showPlay,
this)).on("ended",$.proxy(this.onEnd,this)).on("stopped",$.proxy(this.showPlay,this)).on("cleanedup",$.proxy(this.resetDuration,this)).on("cleanedup",$.proxy(this.showLoader,this)).on("startPlaying",$.proxy(this.hidePlay,this)).on("startPlaying",$.proxy(this.hideLoaderOnStart,this)).on("resumed",$.proxy(this.hidePlay,this)).on("durationSet",$.proxy(this.setDuration,this)).on("loadProgress",$.proxy(this.onLoadProgressUpdate,this)).on("securityError",$.proxy(this.logSecurityError,this)).on("startPlaying",
$.proxy(this.onAudible,this)).on("resumed",$.proxy(this.onAudible,this)).on("pausePlaying",$.proxy(this.onSilent,this,"pause")).on("stopped",$.proxy(this.onSilent,this,"stop")).on("ended",$.proxy(this.onSilent,this,"stop")).on("startPlaying",$.proxy(this.onStart,this)).on("pausePlaying",$.proxy(this.onStop,this)).on("stopped",$.proxy(this.onStop,this)).on("ended",$.proxy(this.onStop,this)).on("error",$.proxy(this.onError,this)).on("noSupport",$.proxy(this.onNoSupport,this)).on("metadata",$.proxy(radioplayer.playing.metadataReceived,
this)).on("id3",$.proxy(radioplayer.playing.id3Received,this)).on("header",$.proxy(radioplayer.playing.headerReceived,this));$("#pause").on("click",$.proxy(this.onClickPause,this));$("#play").on("click",$.proxy(this.onClickPlay,this));$("#stop").on("click",$.proxy(this.onClickStop,this));$("#pause").on("click",$.proxy(radioplayer.emp.pause,radioplayer.emp));$("#play").on("click",$.proxy(radioplayer.emp.resume,radioplayer.emp));$("#stop").on("click",$.proxy(radioplayer.emp.stop,radioplayer.emp));$("#volume-mute").on("click",
$.proxy(this.mute,this));$("#volume-1").on("click",$.proxy(this,"setVolumeTo",20));$("#volume-2").on("click",$.proxy(this,"setVolumeTo",40));$("#volume-3").on("click",$.proxy(this,"setVolumeTo",60));$("#volume-4").on("click",$.proxy(this,"setVolumeTo",80));$("#volume-5").on("click",$.proxy(this,"setVolumeTo",100));$("#volume-control").on("mouseenter",$.proxy(this.volumeIconMouseEnter,this)).on("mouseleave",$.proxy(this.volumeIconMouseLeave,this)).on("mousemove",$.proxy(this.volumeIconMouseMove,this)).on("mousedown",
$.proxy(this.volumeIconMouseDown,this)).on("mouseup",$.proxy(this.volumeIconMouseUp,this)).on("click",$.proxy(this.volumeIconClick,this));$("#toggle-mystations").on("click",$.proxy(this.toggleMyStations,this));$("#progress-scrubber-handle").draggable({axis:"x",containment:"#progress-scrubber-background"}).on("drag",$.proxy(this.seek,this)).on("dragstart",$.proxy(this.seekStart,this)).on("dragstop",$.proxy(this.seekStop,this));$("#progress-scrubber-background").on("click",$.proxy(this.progressBarClick,
this)).on("mouseenter",$.proxy(this.mouseEnterProgress,this)).on("mouseleave",$.proxy(this.mouseLeaveProgress,this));$("#od-strip").on("click","button.od-skip",function(){var a=$(this).attr("data-offset");radioplayer.controls.showLoader();radioplayer.controls.seekOffset(a)});$(document).bind("contextmenu",function(a){radioplayer.utils.output("version:"+radioplayer.emp.getVersion())})}};
radioplayer.overlay={inactivityTimer:null,inactivityCount:45E3,scrollSettleTimer:null,openedOnce:!1,inViewThreshold:100,detectScrolling:!0,tabShowingName:"",azDivideHeight:0,requestFailTimer:null,requestFailed:!1,init:function(){radioplayer.objs.overlayContainer=$(".overlay-container");$(".radioplayer").on("click",".overlay-btn",function(a){a.preventDefault();radioplayer.objs.overlayContainer.is(":visible")?(radioplayer.overlay.hide(),radioplayer.services.analytics.sendEvent("Navigation","Main Menu",
"Close Menu Button",null,null)):(radioplayer.services.analytics.sendEvent("Navigation","Main Menu","Menu button",null,null),radioplayer.overlay.show(radioplayer.lang.general.close_menu),radioplayer.objs.body.addClass("showing-menu"),radioplayer.overlay.openedOnce?($prevSelTab=$("#menu-nav-main li.on"),$prevSelTab.removeClass("on"),radioplayer.overlay.selectTab($prevSelTab)):(radioplayer.overlay.openedOnce=!0,0<radioplayer.settings.presets.length?radioplayer.overlay.selectTab($("#menu-nav-main li:eq(0)")):
radioplayer.overlay.selectTab($("#menu-nav-main li:eq(3)"))))}).on("click",".tabs #menu-nav-main li a",function(a){a.preventDefault();radioplayer.overlay.selectTab($(this).parent())}).on("click",".tabs #search-nav-main li a",function(a){a.preventDefault();radioplayer.overlay.selectTab($(this).parent())}).on("click","#station-logo-link",function(a){if(radioplayer.objs.body.hasClass("showing-overlay"))return a.preventDefault(),radioplayer.overlay.hide(),!1});radioplayer.objs.body.on("keyup",function(a){27==
a.which&&radioplayer.objs.body.hasClass("showing-overlay")&&radioplayer.overlay.hide()});radioplayer.objs.overlayContainer.on("click",".menu-container .alphabet li a",function(a){a.preventDefault();a=$(this);var b=a.parent();tabIndex=$(".menu-container .alphabet li").index(b);letter=a.html();radioplayer.utils.output("clicked letter "+letter);letter=letter.toLowerCase();radioplayer.overlay.detectScrolling=!1;$("#azlist-container").scrollTo("#letter-divide-"+("#"==letter?"num":letter),{axis:"y",duration:500,
onAfter:function(){radioplayer.overlay.detectScrolling=!0;radioplayer.overlay.lazyLoad($("#azlist-container"));$("#azlist-container").data("scrollpos",$("#azlist-container").scrollTop())}});b.hasClass("on")||($(".menu-container .alphabet li").removeClass("on"),b.addClass("on"),radioplayer.services.saveCookie("stationlistprefix/s","stationlistprefix",letter))}).on("click",".toggle-mystations button:not(.animating)",function(a){a.preventDefault();a=$(this).parent();var b=a.parents(".overlay-item"),
c=b.data("stationid"),e=b.parent().attr("id");b.hasClass("in-mystations")?radioplayer.mystations.remove(c,e,a):radioplayer.mystations.add(c,e,a)}).on("click",".more-toggle",function(a){a.preventDefault();var b=$(this).parent().parent();if(b.hasClass("expanded"))b.removeClass("expanded").prev().removeClass("prevExpanded"),b.children(".overlay-item-extra-cont").slideUp(250),$(this).attr("title",radioplayer.lang.search.show_information).html("\x3cspan\x3e"+radioplayer.lang.search.show_information+"\x3c/span\x3e"),
$.browser.msie&&7==$.browser.version&&b.next().hide().show();else{radioplayer.overlay.collapseResult();b.addClass("expanded").prev().addClass("prevExpanded");var c=b.is(":last-child");b.children(".overlay-item-extra-cont").slideDown(250,function(){c&&b.parent().scrollTo("100%",{axis:"y",duration:200})});$(this).attr("title",radioplayer.lang.search.hide_information).html("\x3cspan\x3e"+radioplayer.lang.search.hide_information+"\x3c/span\x3e")}}).on("click",".overlay-item-link",function(a){a.preventDefault();
a=$(this).parents(".overlay-item").data("section");var b="",c=$(this).parents(".overlay-item").data("stationid"),e=$(this).attr("href");"recommend"==a?b="Recommended":"history"==a?b="Recent Menu":"az"==a?(b="A-Z Menu",e+=(0<e.indexOf("?")?"\x26":"?")+"stationletterprefix\x3d"+$(this).data("letter")):"search"==a?b="search":"mystations"==a&&(b="Favourites");radioplayer.overlay.sidewaysNavigate(b,c,e)}).on("click","#menu-nav-toggle",function(a){a.preventDefault();radioplayer.overlay.hideShowNavigationMenu()});
if(radioplayer.consts.is_iOS||radioplayer.consts.is_Android)radioplayer.controls.showPressPlayPrompt(),$("#controls").addClass("no-volume"),$("#volume-control").addClass("hidden");$("#menu-nav-main li").eq(0).find("a span").html(radioplayer.lang.menu_tabs.tab_1_text);$("#menu-nav-main li").eq(1).find("a span").html(radioplayer.lang.menu_tabs.tab_2_text);$("#menu-nav-main li").eq(2).find("a span").html(radioplayer.lang.menu_tabs.tab_3_text);$("#menu-nav-main li").eq(3).find("a span").html(radioplayer.lang.menu_tabs.tab_4_text)},
sidewaysNavigate:function(a,b,c){"search"==a?radioplayer.services.analytics.sendEvent("Search","Full Search",b.toString(),null,null):radioplayer.services.analytics.sendEvent("Navigation",a,b.toString(),null,null);setTimeout(function(){window.location.href=c},100)},show:function(a){var b=!1;radioplayer.objs.body.hasClass("showing-overlay")&&(b=!0,radioplayer.objs.body.removeClass("showing-menu showing-search showing-suggest"),radioplayer.overlay.hidingTab());radioplayer.objs.body.addClass("showing-overlay");
$(".radioplayer-globalnav .menu-btn").attr("title",a).find("span").html(a);$("#station-logo-link").attr("title",a);clearTimeout(radioplayer.inactivityTimer);radioplayer.inactivityTimer=setTimeout(radioplayer.overlay.hide,radioplayer.overlay.inactivityCount);radioplayer.playing.stopUpdating();b||(radioplayer.objs.overlayContainer.on("click.activity",function(){radioplayer.overlay.resetInactivity()}),radioplayer.objs.overlayContainer.find(".scrollable-wrapper").on("scroll.scroll-overlays",function(){if(radioplayer.overlay.detectScrolling){var a=
$(this);a.data("scrollpos",a.scrollTop());clearTimeout(radioplayer.overlay.scrollSettleTimer);radioplayer.overlay.scrollSettleTimer=setTimeout(function(){radioplayer.overlay.lazyLoad(a);radioplayer.overlay.resetInactivity()},250)}}))},hide:function(){radioplayer.objs.overlayContainer.off("click.activity");radioplayer.objs.overlayContainer.find(".scrollable-wrapper").off("scroll.scroll-overlays");$.browser.msie&&7==$.browser.version&&radioplayer.objs.body.hasClass("showing-search")&&radioplayer.objs.searchContainer.find(".tab-container").html("").removeClass("loaded has-error");
radioplayer.objs.body.removeClass("showing-menu showing-search showing-suggest showing-overlay");$(".radioplayer-globalnav .menu-btn").attr("title",radioplayer.lang.general.open_menu).find("span").html(radioplayer.lang.general.open_menu);$("#station-logo-link").removeAttr("title");clearTimeout(radioplayer.inactivityTimer);radioplayer.playing.startUpdating();$("#search-clear").is(":visible")&&($("#search-clear").hide(),$("#search-button").show());radioplayer.overlay.hidingTab();$.browser.msie&&7==
$.browser.version&&$(".radioplayer-body").hide().show()},resetInactivity:function(){clearTimeout(radioplayer.inactivityTimer);radioplayer.inactivityTimer=setTimeout(radioplayer.overlay.hide,radioplayer.overlay.inactivityCount)},lazyLoad:function(a){var b=a.scrollTop(),c=a.height(),e=a.scrollTop()+c+this.inViewThreshold,d=[];a.find(".overlay-item.not-loaded-img").each(function(a,c){$overlayItem=$(this);var h=b+$overlayItem.position().top,n=b+$overlayItem.position().top+$overlayItem.outerHeight();if(h<
e&&h>=b||n>b&&n<e)$overlayItem.removeClass("not-loaded-img"),h=$overlayItem.find(".overlay-item-img img"),h.data("src")&&h.attr("src",h.data("src")).removeAttr("data-src"),$overlayItem.hasClass("not-loaded-meta")&&!$overlayItem.hasClass("checking-for-meta")&&(d.push($overlayItem.attr("data-stationid")),$overlayItem.removeClass("not-loaded-meta").addClass("checking-for-meta"))});0<d.length&&(a=d.join(","),radioplayer.services.getAPI(radioplayer.consts.api.onAir+"?rpIds\x3d"+a+"\x26callback\x3dradioplayer.overlay.receiveStnNowInfo"))},
selectTab:function(a){var b=a.data("content"),c=a.parent(),e=c.children().index(a),d=c.parent().next().children(".tab-container");a.hasClass("on")||(c.children("li").removeClass("on no-divide"),d.removeClass("showing"),e=d.eq(e),e.addClass("showing"),c.children("li").css("border-bottom","0px"),a.css("border-bottom","2px solid "+a.data("color")),this.hideMenuSpinner(),""!=radioplayer.overlay.tabShowingName&&this.hidingTab(),$.browser.msie&&7==$.browser.version||radioplayer.overlay.resizeStickyDivide(),
this.showingTab(b,e),$(".menu-container .tabs").scrollTo(a))},showingTab:function(a,b){this.tabShowingName=a;"azlist"==a?(radioplayer.services.analytics.sendEvent("Navigation","Main Menu","A - Z List",null,null),b.hasClass("loaded")?$.browser.msie&&$("#azlist-container").scrollTop($("#azlist-container").data("scrollpos")):(b.addClass("loaded"),radioplayer.overlay.requestAZList()),$("#menu-nav-toggle li").eq(0).find("a").html(radioplayer.overlay.getMenuToggleLabel(radioplayer.lang.menu_tabs.tab_4_text)),
radioplayer.overlay.hideNavigationMenu()):"mystations"==a?(radioplayer.services.analytics.sendEvent("Navigation","Main Menu","My Stations",null,null),b.hasClass("loaded")||(b.addClass("loaded"),radioplayer.mystations.populateList(radioplayer.settings.presets,"mystations")),$("#menu-nav-toggle li").eq(0).find("a").html(radioplayer.overlay.getMenuToggleLabel(radioplayer.lang.menu_tabs.tab_1_text)),radioplayer.overlay.hideNavigationMenu()):"history"==a?(radioplayer.services.analytics.sendEvent("Navigation",
"Main Menu","Recent",null,null),b.hasClass("loaded")||(b.addClass("loaded"),radioplayer.mystations.populateList(radioplayer.settings.history,"history")),$("#menu-nav-toggle li").eq(0).find("a").html(radioplayer.overlay.getMenuToggleLabel(radioplayer.lang.menu_tabs.tab_2_text)),radioplayer.overlay.hideNavigationMenu()):"recommended"==a?(b.removeClass("has-error"),radioplayer.overlay.requestRecommend(),radioplayer.services.analytics.sendEvent("Navigation","Main Menu","Recommended",null,null),$("#menu-nav-toggle li").eq(0).find("a").html(radioplayer.overlay.getMenuToggleLabel(radioplayer.lang.menu_tabs.tab_3_text)),
radioplayer.overlay.hideNavigationMenu()):"searchlive"==a?($(".search-container .tabs #search-nav-toggle li").eq(0).find("a").html(radioplayer.overlay.getMenuToggleLabel(radioplayer.lang.search.tab_live)),b.hasClass("loaded")||(b.addClass("loaded"),radioplayer.search.tabRequest("live")),radioplayer.search.hideNavigationMenu()):"searchod"==a?($(".search-container .tabs #search-nav-toggle li").eq(0).find("a").html(radioplayer.overlay.getMenuToggleLabel(radioplayer.lang.search.tab_catchup)),b.hasClass("loaded")||
(b.addClass("loaded"),radioplayer.search.tabRequest("od")),radioplayer.search.hideNavigationMenu()):"searchall"==a&&($(".search-container .tabs #search-nav-toggle li").eq(0).find("a").html(radioplayer.overlay.getMenuToggleLabel(radioplayer.lang.search.tab_all)),radioplayer.search.hideNavigationMenu())},hidingTab:function(){radioplayer.utils.output("hiding tab "+radioplayer.overlay.tabShowingName);"mystations"==radioplayer.overlay.tabShowingName&&radioplayer.mystations.purgeRemovedMyStations();radioplayer.overlay.tabShowingName=
""},showMenuSpinner:function(){$(".menu-container .tabs-wrapper .spinner").show()},hideMenuSpinner:function(){$(".menu-container .tabs-wrapper .spinner").hide()},requestAZList:function(){this.showMenuSpinner();this.requestFailed=!1;this.requestFailTimer=setTimeout(function(){radioplayer.overlay.showFailMsg("azlist")},15E3);radioplayer.services.getAPI(radioplayer.consts.api.az+"/?callback\x3dradioplayer.overlay.receiveAZList")},receiveAZList:function(a){clearTimeout(this.requestFailTimer);if(!this.requestFailed){var b=
radioplayer.lang.azlist.alphabet_array,c='\x3ch2 class\x3d"access"\x3e'+radioplayer.lang.menu_tabs.tab_4_text+"\x3c/h2\x3e",e=[];$.each(b,function(b,d){var f=d.toUpperCase();a.stations[d]?(c+='\x3cdiv class\x3d"letter-divide" data-letter\x3d"'+f+'" id\x3d"letter-divide-'+("#"==d?"num":d)+'"\x3e'+f+"\x3c/div\x3e",e.push(d),c+=radioplayer.overlay.iterateResults(a.stations[d],"az",d)):c+='\x3cdiv class\x3d"letter-divide" data-letter\x3d"'+f+'" id\x3d"letter-divide-'+("#"==d?"num":d)+'"\x3e'+f+'\x3c/div\x3e\x3cdiv class\x3d"no-stations-item"\x3e'+
radioplayer.lang.azlist.no_stations+"\x3c/div\x3e"});var d="",g=!1,f="";$.each(b,function(a,b){f=(g=-1<e.indexOf(b))?radioplayer.lang.azlist.view_stations_beginning:radioplayer.lang.azlist.no_stations_beginning;f=f.replace("{letter}","#"==b?radioplayer.lang.azlist.a_number:b.toUpperCase());d+='\x3cli id\x3d"letter-'+("#"==b?"num":b)+'" class\x3d"'+(g?"":"no-stations")+'"\x3e\x3ca href\x3d"#" title\x3d"'+f+'"\x3e'+b.toUpperCase()+"\x3c/a\x3e\x3c/li\x3e"});this.hideMenuSpinner();$(".alphabet ul").html(d);
$("#azlist-container").html(c);$.browser.msie&&7==$.browser.version?$(".sticky-divide").remove():(this.resizeStickyDivide(),$("#azlist-container").on("scroll.update-sticky-divide",function(){radioplayer.overlay.updateStickyDivide($(this))}));""!=radioplayer.settings.stationlistprefix?(this.detectScrolling=!1,$(".menu-container .alphabet").scrollTo($("#letter-"+("#"==radioplayer.settings.stationlistprefix?"num":radioplayer.settings.stationlistprefix)).offset().left,{axis:"x"}),$("#azlist-container").scrollTo("#letter-divide-"+
("#"==radioplayer.settings.stationlistprefix?"num":radioplayer.settings.stationlistprefix),{axis:"y",duration:0,onAfter:function(){radioplayer.utils.output("completed initial scroll");radioplayer.overlay.detectScrolling=!0}}),$("#letter-"+("#"==radioplayer.settings.stationlistprefix?"num":radioplayer.settings.stationlistprefix)).addClass("on")):(b=e[Math.floor(Math.random()*e.length)],this.detectScrolling=!1,$(".menu-container .alphabet").scrollTo($("#letter-"+("#"==b?"num":b)).offset().left,{axis:"x"}),
$("#azlist-container").scrollTo("#letter-divide-"+("#"==b?"num":b),{axis:"y",duration:500,onAfter:function(){radioplayer.overlay.detectScrolling=!0}}),$("#letter-"+("#"==b?"num":b)).addClass("on"),radioplayer.services.saveCookie("stationlistprefix/s","stationlistprefix",b))}},updateStickyDivide:function(a){var b=a.scrollTop(),c=!1,e="";a.find(".letter-divide").each(function(a,g){$divideItem=$(this);var f=b+$divideItem.position().top;$divideItem.position();$divideItem.outerHeight();f<=b?e=$divideItem.data("letter"):
c||(c=!0,f<b+radioplayer.overlay.azDivideHeight?(f=$divideItem.position().top,radioplayer.objs.stickyLetterDivide.css("top","-"+(radioplayer.overlay.azDivideHeight-f)+"px")):radioplayer.objs.stickyLetterDivide.css("top","0"))});radioplayer.objs.stickyLetterDivide.html(e)},requestRecommend:function(){$("#recom-container").html("");this.showMenuSpinner();this.requestFailed=!1;this.requestFailTimer=setTimeout(function(){radioplayer.overlay.showFailMsg("recom")},15E3);var a="?callback\x3dradioplayer.overlay.receiveRecommend\x26locale\x3d"+
radioplayer.lang.recommendations.locale;0<radioplayer.settings.history.length&&(a+="\x26historyRpIds\x3d"+radioplayer.settings.history.join(","));0<radioplayer.settings.presets.length&&(a+="\x26presetRpIds\x3d"+radioplayer.settings.presets.join(","));""!=radioplayer.settings.guid&&(a+="\x26guid\x3d"+radioplayer.settings.guid);radioplayer.services.getAPI(radioplayer.consts.api.recommend+a)},receiveRecommend:function(a){clearTimeout(this.requestFailTimer);this.requestFailed||(a='\x3ch2 class\x3d"access"\x3e'+
radioplayer.lang.menu_tabs.tab_3_text+"\x3c/h2\x3e"+this.iterateResults(a.recommendations,"recommend"),this.hideMenuSpinner(),$("#recom-container").html(a),this.lazyLoad($("#recom-container")))},showFailMsg:function(a){this.requestFailed=!0;this.hideMenuSpinner();var b='\x3cdiv class\x3d"error-message fail"\x3e'+radioplayer.lang.general.fail_message+"\x3c/div\x3e";$("#"+a+"-container").addClass("has-error").html(b);radioplayer.services.analytics.sendEvent("Errors","Failed Message",a,null,null)},iterateResults:function(a,
b,c){var e="",d=Math.round(.001*(new Date).getTime());$.each(a,function(a,f){if("search"==b&&f.results[2])e+='\x3cdiv data-brand\x3d"'+f.groupID+'" class\x3d"station-group collapsed"\x3e',$.each(f.results,function(a,c){var g=radioplayer.overlay.oneResult(b,c,a,f.groupID,d);e+=(2==a?'\x3cdiv class\x3d"station-group-hidden"\x3e':"")+g}),e+="\x3c/div\x3e\x3c/div\x3e";else{var h="search"==b?radioplayer.overlay.oneResult(b,f.results[1],0,"",d):"az"==b?radioplayer.overlay.oneResult(b,f,0,"",d,c):radioplayer.overlay.oneResult(b,
f,0,"",d);e+=h}});return e},oneResult:function(a,b,c,e,d,g){var f=b.rpId,h=b.imageUrl?b.imageUrl:radioplayer.consts.assetBaseUrl+"img/result-placeholder.png",n=b.serviceName,l="",r="",k="SI",u=b.consoleUrl,p=null,m=!0;if("search"==a)l=radioplayer.overlay.getSubtitle(b),r=b.description,k=b.type,p=radioplayer.overlay.calculateStationStatus(b,d);else if("recommend"==a)l="ONDEMAND"==b.type?b.name:"",r=b.description?b.description:"",k="SERVICE"==b.type?"SI":"OD",p=radioplayer.overlay.calculateStationStatus(b,
d);else if("mystations"==a||"history"==a||"az"==a)p={stationType:radioplayer.lang.search.live,timeToBroadcast:""},m=!1;var s=(d="SI"==k||"PI"==k||"PE_E"==k||"PI_E"==k)?"not-loaded-meta":"",q="",t="";d&&!radioplayer.consts.reduced_func&&(-1!=$.inArray(b.rpId,radioplayer.settings.presets)?(q="in-mystations",t='\x3cspan class\x3d"toggle-mystations"\x3e\x3cbutton type\x3d"button" title\x3d"'+radioplayer.lang.mystations.remove_this+'"\x3e\x3cspan\x3e'+radioplayer.lang.mystations.remove_this+"\x3c/span\x3e\x3c/button\x3e\x3c/span\x3e"):
t='\x3cspan class\x3d"toggle-mystations"\x3e\x3cbutton type\x3d"button" title\x3d"'+radioplayer.lang.mystations.add_this+'"\x3e\x3cspan\x3e'+radioplayer.lang.mystations.add_this+"\x3c/span\x3e\x3c/button\x3e\x3c/span\x3e");d=radioplayer.lang.search.show_more_stations;d=d.replace("{group}",e);e='\x3cdiv data-stationid\x3d"'+f+'" data-type\x3d"'+k+'" data-statustype\x3d"'+p.stationType+'" data-section\x3d"'+a+'" class\x3d"overlay-item '+k+" "+q+" not-loaded-img "+s+'"\x3e\x3cdiv class\x3d"overlay-item-initial"\x3e\x3ca class\x3d"overlay-item-link" href\x3d"'+
u+'"'+("az"==a?' data-letter\x3d"'+g+'"':"")+'\x3e\x3cspan class\x3d"overlay-item-img"\x3e\x3cspan class\x3d"play-icon"\x3e\x3c/span\x3e\x3cimg src\x3d"'+radioplayer.consts.assetBaseUrl+'img/result-placeholder.png" data-src\x3d"'+h+'" width\x3d"86" height\x3d"48" alt\x3d"" /\x3e\x3c/span\x3e\x3cspan class\x3d"title"\x3e'+n+'\x3c/span\x3e\x3c/a\x3e\x3cdiv class\x3d"overlay-item-data"\x3e\x3cp class\x3d"'+("OD"==k||"PI_OD"==k?"programme-title":"subtitle")+' truncate"\x3e'+l+'\x3c/p\x3e\x3cp class\x3d"description"\x3e'+
r+"\x3c/p\x3e"+(m?'\x3cp class\x3d"broadcast-info"\x3e\x3cspan class\x3d"status"\x3e'+p.stationType+'\x3c/span\x3e \x3cspan class\x3d"broadcast-time"\x3e'+p.timeToBroadcast+"\x3c/span\x3e\x3c/p\x3e":"")+"\x3c/div\x3e"+t+("recommend"==a?'\x3ca href\x3d"#" role\x3d"button" class\x3d"more-toggle" title\x3d"'+radioplayer.lang.search.show_information+'"\x3e\x3cspan\x3e'+radioplayer.lang.search.show_information+"\x3c/span\x3e\x3c/a\x3e":"")+"\x3c/div\x3e";"recommend"==a&&(a=b.factors.join(", "),e+='\x3cdiv class\x3d"overlay-item-extra-cont"\x3e\x3cdiv class\x3d"padding-wrap"\x3e\x3cdiv class\x3d"recommend-factors"\x3e\x3ci\x3e\x3c/i\x3e'+
a+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");return e+((1==c?'\x3ca href\x3d"#" class\x3d"station-group-toggle" role\x3d"button"\x3e\x3ci\x3e\x3c/i\x3e'+d+"\x3c/a\x3e":"")+"\x3c/div\x3e")},receiveStnNowInfo:function(a){"SUCCESS"==a.responseStatus&&0<a.total&&($.each(a.results,function(a,c){radioplayer.objs.overlayContainer.find(".overlay-item.checking-for-meta[data-stationid\x3d'"+a+"']").each(function(a,b){$overlayItem=$(b);$overlayItem.removeClass("checking-for-meta");var g=1,f="",h=[],n=[],l,r=[],
k=[],u=$overlayItem.attr("data-type"),p=-1<$.inArray($overlayItem.data("section"),["mystations","history","recommend","az"]),m="",s="",q="";r[0]=$(".overlay-item-initial .overlay-item-img img",b).attr("src");k[0]=$(".overlay-item-initial .overlay-item-data .description",b).html();var t=$(".overlay-item-initial .overlay-item-link",b).attr("href");$.each(c,function(a,b){"SI"!=b.type||"mystations"!=$overlayItem.data("section")&&"history"!=$overlayItem.data("section")||($overlayItem.find(".overlay-item-img img").attr("src",
b.imageUrl),$overlayItem.find(".title").html(b.serviceName));if(-1<$.inArray(b.type,["SI","PI","PE_E","PI_E"])){l=radioplayer.overlay.getSubtitle(b);if(b.type!=u){-1!=$.inArray(b.imageUrl,r)?b.imageUrl="":r[g]=b.imageUrl;-1!=$.inArray(b.description,k)?b.description="":k[g]=b.description;if(l||b.description)!b.song||"PE_E"!=b.type&&"PI_E"!=b.type?(h.push('\x3cdiv class\x3d"overlay-item-extra'+(b.imageUrl?" hasImage":"")+("recommend"!==$overlayItem.data("section")&&0==h.length?" no-top-border":"")+
'"\x3e'+(b.imageUrl?'\x3ca class\x3d"overlay-item-link" href\x3d"'+t+'"\x3e\x3cspan class\x3d"overlay-item-img"\x3e\x3cspan class\x3d"play-icon"\x3e\x3c/span\x3e\x3cimg width\x3d"86" height\x3d"48" alt\x3d"" src\x3d"'+b.imageUrl+'"\x3e\x3c/span\x3e\x3c/a\x3e':"")+'\x3cdiv class\x3d"overlay-item-data"\x3e\x3cp class\x3d"subtitle"\x3e'+l+'\x3c/p\x3e\x3cp class\x3d"description"\x3e'+b.description+"\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e"),n.push(b.type)):(h.push('\x3cdiv class\x3d"overlay-item-song'+("recommend"!==
$overlayItem.data("section")&&0==h.length?" no-top-border":"")+'"\x3e\x3ci\x3e\x3c/i\x3e'+l+"\x3c/div\x3e"),n.push("song"));g++}p&&(l||b.description)&&(!b.song||"PE_E"!=b.type&&"PI_E"!=b.type?"PE_E"==b.type||"PI_E"==b.type?"song"!=m&&(m=b.type,s=l,q=b.description):"PI"==b.type?-1==$.inArray(m,["song","PE_E","PI_E"])&&(m=b.type,s=l,q=b.description):"SI"==b.type&&-1==$.inArray(m,["song","PE_E","PI_E","PI"])&&(m=b.type,s=l,q=b.description):(m="song",s=l,q=b.description))}});""!=m&&($overlayItem.find(".overlay-item-initial .subtitle").html(s),
$overlayItem.find(".overlay-item-initial .description").html(q),"song"==m&&$overlayItem.find(".overlay-item-initial .subtitle").removeClass("truncate"),0<h.length&&(f=$.inArray(m,n),-1<f&&h.splice(f,1)));0<h.length?(f=h.join(""),"recommend"==$overlayItem.data("section")?$overlayItem.addClass("loaded-meta").children(".overlay-item-extra-cont").children().append(f):(f='\x3cdiv class\x3d"overlay-item-extra-cont"\x3e\x3cdiv class\x3d"padding-wrap"\x3e'+f+"\x3c/div\x3e\x3c/div\x3e",$overlayItem.addClass("loaded-meta").children(".overlay-item-initial").append('\x3ca href\x3d"#" role\x3d"button" class\x3d"more-toggle" title\x3d"'+
radioplayer.lang.search.show_information+'"\x3e\x3cspan\x3e'+radioplayer.lang.search.show_information+"\x3c/span\x3e\x3c/a\x3e"),$overlayItem.children(".overlay-item-initial").after(f))):$overlayItem.addClass("no-meta-available")})}),"az"!=$overlayItem.data("section")||$.browser.msie&&7==$.browser.version||radioplayer.overlay.updateStickyDivide($("#azlist-container")))},collapseResult:function(){if(1==radioplayer.objs.overlayContainer.find(".overlay-item.expanded").length){var a=radioplayer.objs.overlayContainer.find(".overlay-item.expanded");
a.children(".overlay-item-extra-cont").slideUp(250,function(){$(this).hide()});a.find(".more-toggle").attr("title",radioplayer.lang.search.show_information).html("\x3cspan\x3e"+radioplayer.lang.search.show_information+"\x3c/span\x3e");a.removeClass("expanded").prev().removeClass("prevExpanded")}},calculateStationStatus:function(a,b){var c={},e=null,d=null;a.startTime&&""!=a.startTime&&a.stopTime&&""!=a.stopTime&&(e=a.startTime-b,d=a.stopTime-b);a.startTime&&""!=a.startTime&&0<e?(c.stationType=radioplayer.lang.search.coming_up,
c.timeToBroadcast=this.getTimeBeforeBroadcast(e)):a.stopTime&&""!=a.stopTime&&0>d?(c.stationType=radioplayer.lang.search.broadcast,c.timeToBroadcast=this.getTimePastSinceBroadcast(b-a.stopTime)):(c.stationType=a.odStartTime&&""!=a.odStartTime?radioplayer.lang.search.broadcast:radioplayer.lang.search.live,c.timeToBroadcast="");return c},divideAndRound:function(a,b){var c="";timeReturned=a/b;return 1<=timeReturned?c=timeReturned=Math.round(timeReturned):1},getTimeBeforeBroadcast:function(a){a=Math.round(a/
60);if(0==a)return" "+radioplayer.lang.search.in_seconds;if(1==a)return" "+radioplayer.lang.search.in_minute;var b=radioplayer.lang.search.in_minutes,b=b.replace("{n}",a);return" "+b},getTimePastSinceBroadcast:function(a){var b;if(604800<=a)if(31556926<=a){if(b=this.divideAndRound(a,31556926))return this.getTimePastString(b,radioplayer.lang.search.year_ago,radioplayer.lang.search.years_ago)}else if(2629743<=a){if(b=this.divideAndRound(a,2629743))return this.getTimePastString(b,radioplayer.lang.search.month_ago,
radioplayer.lang.search.months_ago)}else{if(604800<=a&&(b=this.divideAndRound(a,604800)))return this.getTimePastString(b,radioplayer.lang.search.week_ago,radioplayer.lang.search.weeks_ago)}else if(86400<=a){if(b=this.divideAndRound(a,86400))return this.getTimePastString(b,radioplayer.lang.search.day_ago,radioplayer.lang.search.days_ago)}else if(3600<=a){if(b=this.divideAndRound(a,3600))return this.getTimePastString(b,radioplayer.lang.search.hour_ago,radioplayer.lang.search.hours_ago)}else if(60<=
a&&(b=this.divideAndRound(a,60)))return this.getTimePastString(b,radioplayer.lang.search.minute_ago,radioplayer.lang.search.minutes_ago);return this.getTimePastString(a,radioplayer.lang.search.second_ago,radioplayer.lang.search.seconds_ago)},getTimePastString:function(a,b,c){return 1==a?b:c=c.replace("{n}",a)},getSubtitle:function(a){return"PE_E"!=a.type&&"PI_E"!=a.type||!a.artistName?a.name:a.artistName+" - "+a.name},resizeStickyDivide:function(a){radioplayer.objs.stickyLetterDivide=$(".sticky-divide");
radioplayer.objs.stickyLetterDivide.css({width:$("#letter-divide-num").width()+"px",display:"block"});this.azDivideHeight=radioplayer.objs.stickyLetterDivide.outerHeight()},getMenuToggleLabel:function(a){return a+'\x3cspan class\x3d"menu_toggle"\x3e\x3c/span\x3e'},resetNavigationMenu:function(){$(".menu-container .tabs-wrapper").removeClass("nav-collapsed");$(".menu-container .sticky-divide-wrapper").removeClass("nav-collapsed");$("#menu-nav-main").show();radioplayer.overlay.hideNavigationMenu()},
hideShowNavigationMenu:function(){$("#menu-nav-main").is(":visible")?($("#menu-nav-main").hide(),$("#menu-nav-toggle li a .menu_toggle").removeClass("nav-expanded"),$(".menu-container .tabs-wrapper").addClass("nav-collapsed"),$(".menu-container .sticky-divide-wrapper").addClass("nav-collapsed")):($("#menu-nav-main").show(),$("#menu-nav-toggle li a .menu_toggle").addClass("nav-expanded"),$(".menu-container .tabs-wrapper").removeClass("nav-collapsed"),$(".menu-container .sticky-divide-wrapper").removeClass("nav-collapsed"))},
hideNavigationMenu:function(){$("#menu-nav-toggle").is(":visible")&&($("#menu-nav-main").hide(),$("#menu-nav-toggle li a .menu_toggle").removeClass("nav-expanded"),$(".menu-container .tabs-wrapper").addClass("nav-collapsed"),$(".menu-container .sticky-divide-wrapper").addClass("nav-collapsed"))}};
radioplayer.playing={requestFailTimer:null,requestPlayingSecs:2E4,requestPlayingTimer:null,requestPlayingSecs_Song:2E4,showingPlayingType:"",showingText:"",playingArtist:"",playingTitle:"",animateEasing:"swing",pxPerSecond:90,scrollingContainerWidth:0,scrollTimeout:null,scrollDirection:"l",endPos:0,nowPlayingStripWidth:0,nowPlayingID3:"",receivedStreamData:!1,songAction:null,terminateUpdating:!1,windowHasFocus:!0,init:function(){radioplayer.objs.nowPlayingStrip=$(".now-playing-strip");radioplayer.objs.scrollingContainer=
$(".scrolling-container");radioplayer.objs.scrollerText=$(".scrolling-text");$("#live-strip .live-indicator").html(radioplayer.lang.playing.live);this.nowPlayingStripWidth=radioplayer.objs.nowPlayingStrip.width();radioplayer.objs.scrollingContainer.css("left",radioplayer.lang.playing.live_width+"px");radioplayer.objs.scrollingContainer.on("mouseenter.start-scroller",function(){radioplayer.objs.nowPlayingStrip.addClass("mouse-over");radioplayer.playing.startScrolling()}).on("mouseleave.reset-scroller",
function(){radioplayer.playing.resetScroller(!0)}).on("focus",function(){radioplayer.mouseActive||radioplayer.objs.scrollingContainer.trigger("mouseenter.start-scroller")}).on("blur",function(){radioplayer.mouseActive||radioplayer.objs.scrollingContainer.trigger("mouseleave.reset-scroller")});$(window).on("blur",function(){radioplayer.playing.windowHasFocus&&(radioplayer.playing.windowHasFocus=!1)}).on("focus",function(){radioplayer.playing.windowHasFocus||(radioplayer.playing.windowHasFocus=!0,radioplayer.objs.body.hasClass("showing-overlay"))});
$(radioplayer.services).on("gotSongAction",function(){""!=radioplayer.playing.showingText&&(radioplayer.utils.output("update text late with song action"),radioplayer.playing.updateText(radioplayer.playing.showingText,radioplayer.playing.showingPlayingType))});this.startUpdating()},startUpdating:function(){audioLive&&"stream"!=nowPlayingSource&&(this.requestFailTimer=setTimeout(function(){radioplayer.playing.showFailMsg()},1E3),this.requestPlaying())},stopUpdating:function(a){"undefined"!=typeof a&&
1==a&&(this.terminateUpdating=!0);clearTimeout(this.requestPlayingTimer);clearTimeout(this.requestFailTimer);this.showingText=this.showingPlayingType=""},startScrolling:function(){clearTimeout(radioplayer.playing.scrollTimeout);if($.browser.msie&&7==$.browser.version){$tempObj=$('\x3cdiv style\x3d"position:absolute;top:-999px;font-size:11px;"\x3e'+radioplayer.objs.scrollerText.html()+"\x3c/div\x3e");radioplayer.objs.body.append($tempObj);var a=$tempObj.outerWidth();$tempObj.remove()}else a=radioplayer.objs.scrollerText.outerWidth();
a>this.scrollingContainerWidth&&(this.endPos=a-this.scrollingContainerWidth+4,this.nextScroll())},nextScroll:function(){var a=radioplayer.playing.calcDuraToAnimate(radioplayer.playing.endPos);"l"==radioplayer.playing.scrollDirection?(radioplayer.utils.output("animate to the left"),radioplayer.objs.scrollerText.animate({left:"-"+radioplayer.playing.endPos+"px"},a,radioplayer.playing.animateEasing),radioplayer.playing.scrollDirection="r",radioplayer.playing.scrollTimeout=setTimeout(radioplayer.playing.nextScroll,
a+3E3)):(radioplayer.utils.output("animate to the right (and reset)"),radioplayer.objs.scrollerText.animate({left:"4px"},a,radioplayer.playing.animateEasing,function(){radioplayer.objs.nowPlayingStrip.removeClass("mouse-over")}),radioplayer.playing.scrollDirection="l")},resetScroller:function(a){radioplayer.utils.output("reset the scroller");clearTimeout(radioplayer.playing.scrollTimeout);this.scrollDirection="l";a?(a=this.calcDuraToAnimate(4-radioplayer.objs.scrollerText.position().left),radioplayer.objs.scrollerText.stop(!0).animate({left:"4px"},
a,radioplayer.playing.animateEasing,function(){radioplayer.objs.nowPlayingStrip.removeClass("mouse-over")})):(radioplayer.objs.scrollerText.stop(!0).css({left:"4px"}),radioplayer.objs.nowPlayingStrip.removeClass("mouse-over"))},calcDuraToAnimate:function(a){return Math.floor(a/(this.pxPerSecond/1E3))},requestPlaying:function(){radioplayer.services.getAPI(radioplayer.consts.api.pollOnAir+"?rpIds\x3d"+currentStationID+"\x26nameSize\x3d200\x26artistNameSize\x3d200\x26descriptionSize\x3d200\x26callback\x3dradioplayer.playing.receive");
clearTimeout(this.requestPlayingTimer);this.requestPlayingTimer=setTimeout(function(){radioplayer.playing.requestPlaying()},radioplayer.playing.requestPlayingSecs)},receive:function(a){clearTimeout(this.requestFailTimer);var b="",c="",e,d,g,f;"SUCCESS"==a.responseStatus&&0<a.total&&(a=a.results[currentStationID],$(radioplayer.playing).trigger("receiveData",[a]),radioplayer.utils.output("Received:"),$.each(a,function(a,b){"PE_E"==b.type||"PI_E"==b.type?(e=b.artistName+" - "+b.name,radioplayer.playing.artist=
b.artistName,radioplayer.playing.title=b.name):"PI"==b.type?d=b.name:"SI"==b.type&&(b.description?g=b.description:f=b.serviceName)}));switch(nowPlayingSource){case "SI":b=g?g:f?f:currentStationName;c="SI";this.stopUpdating(!0);break;case "stream":radioplayer.playing.receivedStreamData&&(b=radioplayer.playing.nowPlayingID3,c=audioLive?"live":"OD");break;case "PI":d&&(b=d,c="PI");break;case "default-no-stream":e?(b=e,c="PE"):d?(b=d,c="PI"):(b=g?g:f?f:currentStationName,c="SI");break;default:e?(b=e,
c="PE"):d?(b=d,c="PI"):radioplayer.playing.receivedStreamData?(b=radioplayer.playing.nowPlayingID3,c=audioLive?"live":"OD",nowPlayingSource="stream"):(b=g?g:f?f:currentStationName,c="SI")}b!==this.showingText&&this.updateText(b,c)},updateText:function(a,b){if(audioLive){var c=!1;"PE"==b?($("#live-strip .song-action").remove(),this.songAction&&(c=radioplayer.playing.songAction.baseurl,c=c.replace(/\[\[artist\]\]/gi,encodeURIComponent(encodeURIComponent(radioplayer.playing.artist))),c=c.replace(/\[\[title\]\]/gi,
encodeURIComponent(encodeURIComponent(radioplayer.playing.title))),c=c.replace(/\[artist\]/gi,encodeURIComponent(radioplayer.playing.artist)),c=c.replace(/\[title\]/gi,encodeURIComponent(radioplayer.playing.title)),$songAction=$('\x3ca class\x3d"song-action" href\x3d"'+c+'" target\x3d"_blank"\x3e'+radioplayer.lang.songactions[radioplayer.playing.songAction.type.toLowerCase()]+"\x3c/a\x3e"),radioplayer.objs.scrollingContainer.after($songAction),c=!0),"PE"!=this.showingPlayingType&&""!=this.showingPlayingType&&
(radioplayer.utils.output("now waiting long for now playing as this is a song"),clearTimeout(this.requestPlayingTimer),this.requestPlayingTimer=setTimeout(function(){radioplayer.playing.requestPlaying()},radioplayer.playing.requestPlayingSecs_Song))):this.songAction&&$("#live-strip .song-action").remove();radioplayer.objs.scrollerText.html(a);this.resetScroller(!1);this.scrollingContainerWidth=this.nowPlayingStripWidth-radioplayer.lang.playing.live_width;c&&(this.scrollingContainerWidth-=$songAction.outerWidth());
radioplayer.objs.scrollingContainer.css("width",this.scrollingContainerWidth+"px")}else $("#od-title").html(a);this.showingPlayingType=b;this.showingText=a},receiveOD:function(a){var b=!1;"SUCCESS"==a.responseStatus&&0<a.total&&$.each(a.results[currentStationID],function(a,e){"PI_OD"!=e.type&&"OD"!=e.type||!e.name||""==e.name||(b=!0,radioplayer.playing.updateText(e.name,"OD"))});b||(nowPlayingSource="stream",radioplayer.playing.receivedStreamData&&this.updateText(radioplayer.playing.nowPlayingID3,
"OD"))},showFailMsg:function(){this.updateText(currentStationName,"fallback")},metadataReceived:function(a,b){radioplayer.utils.output("metadata received");radioplayer.consts.consolelog&&console.dir(b);if("metadata"==b.type)if(radioplayer.playing.receivedStreamData=!0,"undefined"!=typeof b.data.TIT2||"undefined"!=typeof b.data.songName){radioplayer.utils.output("id3 received");b.data.TIT2?radioplayer.playing.title=b.data.TIT2:b.data.songName&&(radioplayer.playing.title=b.data.songName);b.data.TPE1?
radioplayer.playing.artist=b.data.TPE1:b.data.artist&&(radioplayer.playing.artist=b.data.artist);var c=radioplayer.playing.swapPlaceholdersForSong();radioplayer.playing.nowPlayingID3=c;"stream"==nowPlayingSource&&radioplayer.playing.updateText(c,audioLive?"":"OD")}else radioplayer.utils.output("StreamTitle: "+b.data.StreamTitle),radioplayer.utils.output("StreamUrl: "+b.data.StreamUrl),radioplayer.utils.output("Name: "+b.data.name),"stream"==nowPlayingSource&&(c=b.data.StreamTitle.split("~"),"MUSIC"==
c[4]?(radioplayer.playing.artist=c[0],radioplayer.playing.title=c[1],c=radioplayer.playing.swapPlaceholdersForSong(),radioplayer.playing.nowPlayingID3=c,radioplayer.playing.updateText(c,audioLive?"":"OD")):radioplayer.playing.updateText(currentStationName,audioLive?"":"OD"))},swapPlaceholdersForSong:function(){var a=radioplayer.lang.playing.format,a=a.replace("{artist}",radioplayer.playing.artist);return a=a.replace("{track}",radioplayer.playing.title)},headerReceived:function(a,b){radioplayer.utils.output("header received");
radioplayer.consts.consolelog&&console.dir(b)}};
radioplayer.mystations={received:!1,gotStnList:!1,maxStations:15,init:function(){$(radioplayer.services).on("gotMyStationsAndHistory",function(){radioplayer.mystations.received=!0;radioplayer.mystations.gotStnList&&radioplayer.mystations.initPopulate()});$(radioplayer.services).on("stationListSet",function(){radioplayer.mystations.gotStnList=!0;radioplayer.mystations.received&&radioplayer.mystations.initPopulate()});(new Image).src=radioplayer.consts.assetBaseUrl+"img/heart-sprite.png"},initPopulate:function(){radioplayer.utils.output("checking if my stations is already loaded");
$("#mystations-container").hasClass("loaded")&&(radioplayer.utils.output("loading in my stations late!"),radioplayer.mystations.populateList(radioplayer.settings.presets,"mystations"));$("#history-container").hasClass("loaded")&&radioplayer.mystations.populateList(radioplayer.settings.history,"history")},populateList:function(a,b){if(0==a.length)"mystations"==b&&$("#"+b+"-container").addClass("has-no-items").html('\x3cdiv class\x3d"no-overlay-items"\x3e'+radioplayer.lang.mystations.no_items+"\x3c/div\x3e");
else{var c=[];$.each(a,function(a,b){radioplayer.stnList[b]?c.push({rpId:b,serviceName:"",consoleUrl:radioplayer.stnList[b].playerUrl,imageUrl:""}):radioplayer.utils.output("Cant add station "+b+" to mystns list, not found in station list")});var e='\x3ch2 class\x3d"access"\x3e'+("mystations"==b?radioplayer.lang.menu_tabs.tab_1_text:radioplayer.lang.menu_tabs.tab_2_text)+"\x3c/h2\x3e"+radioplayer.overlay.iterateResults(c,b);$("#"+b+"-container").html(e);radioplayer.overlay.lazyLoad($("#"+b+"-container"))}},
add:function(a,b,c){a=a.toString();radioplayer.services.analytics.sendEvent("Navigation","Add to Favourites",a,null,null);var e=radioplayer.settings.presets.length;if(radioplayer.settings.presets.length==radioplayer.mystations.maxStations){var d=radioplayer.settings.presets.pop();$("#mystations-container").hasClass("loaded")&&$('#mystations-container .overlay-item[data-stationid\x3d"'+d+'"]').remove();radioplayer.objs.overlayContainer.find('.overlay-item[data-stationid\x3d"'+d+'"]').removeClass("in-mystations").find(".toggle-mystations button").attr("title",
radioplayer.lang.mystations.add_this).find("span").html(radioplayer.lang.mystations.add_this);d==currentStationID&&$("#toggle-mystations").removeClass("in-mystations").attr("title",radioplayer.lang.mystations.add_this).find("span").html(radioplayer.lang.mystations.add_this)}radioplayer.settings.presets.unshift(a);"head-controls"==b&&0<$('#mystations-container .overlay-item[data-stationid\x3d"'+a+'"]:not(.in-mystations)').length?radioplayer.utils.output("dont add it again"):$("#mystations-container").hasClass("loaded")&&
"mystations-container"!==b&&(d=radioplayer.stnList[a],d=radioplayer.overlay.iterateResults([{rpId:a,serviceName:d.name,consoleUrl:d.playerUrl,imageUrl:d.logoUrl}],"mystations"),0==e&&$("#mystations-container").removeClass("has-no-items").html(""),$("#mystations-container").prepend(d),radioplayer.overlay.lazyLoad($("#mystations-container")));radioplayer.objs.overlayContainer.find('.overlay-item[data-stationid\x3d"'+a+'"]').addClass("in-mystations").find(".toggle-mystations button").attr("title",radioplayer.lang.mystations.remove_this).find("span").html(radioplayer.lang.mystations.remove_this);
c?(new radioplayer.mystations.heartAnimation(c.find("button"),!1),a==currentStationID&&$("#toggle-mystations").addClass("in-mystations").attr("title",radioplayer.lang.mystations.remove_this).find("span").html(radioplayer.lang.mystations.remove_this)):"head-controls"==b&&new radioplayer.mystations.heartAnimation($("#toggle-mystations"),!0);radioplayer.services.saveMyStationsOrder()},remove:function(a,b,c){a=a.toString();radioplayer.settings.presets=jQuery.grep(radioplayer.settings.presets,function(b){return b!=
a});$("#mystations-container").hasClass("loaded")&&"mystations-container"!==b&&($('#mystations-container .overlay-item[data-stationid\x3d"'+a+'"]').remove(),0==radioplayer.settings.presets.length&&$("#mystations-container").addClass("has-no-items").html('\x3cdiv class\x3d"no-overlay-items"\x3e'+radioplayer.lang.mystations.no_items+"\x3c/div\x3e"));radioplayer.objs.overlayContainer.find('.overlay-item[data-stationid\x3d"'+a+'"]').removeClass("in-mystations").find(".toggle-mystations button").attr("title",
radioplayer.lang.mystations.add_this).find("span").html(radioplayer.lang.mystations.add_this);a==currentStationID&&$("#toggle-mystations").removeClass("in-mystations").attr("title",radioplayer.lang.mystations.add_this).find("span").html(radioplayer.lang.mystations.add_this);radioplayer.services.saveMyStationsOrder()},purgeRemovedMyStations:function(){radioplayer.utils.output("purge my stations");$("#mystations-container .overlay-item:not(.in-mystations)").remove();0==radioplayer.settings.presets.length&&
$("#mystations-container").addClass("has-no-items").html('\x3cdiv class\x3d"no-overlay-items"\x3e'+radioplayer.lang.mystations.no_items+"\x3c/div\x3e")},heartAnimation:function(a,b){var c=this;c.leftPos=0;c.topPos=0;c.btnObj=a;(c.headHeart=b)&&"light"==radioplayer.themeColour&&(c.leftPos="-32px");c.btnObj.addClass("animating").find("span").css({backgroundPosition:c.leftPos+" -"+c.topPos+"px"});c.heartInterval=setInterval(function(){c.topPos+=25;475==c.topPos?(clearInterval(c.heartInterval),c.headHeart&&
c.btnObj.addClass("in-mystations"),c.btnObj.removeClass("animating").attr("title",radioplayer.lang.mystations.remove_this).find("span").removeAttr("style").html(radioplayer.lang.mystations.remove_this)):c.btnObj.find("span").css({backgroundPosition:c.leftPos+" -"+c.topPos+"px"})},30)}};
radioplayer.search={lastSuggestQ:"",q:"",requestFailTimer:null,requestFailed:!1,suggestQueryDelay:null,init:function(){radioplayer.objs.searchBox=$(".search-box");radioplayer.objs.searchInput=$("#search-input");radioplayer.objs.searchContainer=$(".search-container");radioplayer.objs.searchResults=$(".search-container .scrollable-wrapper");radioplayer.objs.suggestContainer=$(".suggest-container");radioplayer.objs.searchAllContainer=$("#search-all-cont");radioplayer.objs.searchLiveContainer=$("#search-live-cont");
radioplayer.objs.searchODContainer=$("#search-od-cont");setTimeout(function(){radioplayer.objs.searchInput.val(radioplayer.lang.search.search_radioplayer)},100);$(".search-box h2").html(radioplayer.lang.search.search);$(".search-box #search-button").attr("title",radioplayer.lang.search.search).find("span").html(radioplayer.lang.search.search);$(".search-box #search-clear").attr("title",radioplayer.lang.search.clear).find("span").html(radioplayer.lang.search.clear);$(".search-container .tabs #search-nav-main li").eq(0).find("a span").html(radioplayer.lang.search.tab_all);
$(".search-container .tabs #search-nav-main li").eq(1).find("a span").html(radioplayer.lang.search.tab_live);$(".search-container .tabs #search-nav-main li").eq(2).find("a span").html(radioplayer.lang.search.tab_catchup);$("#search-nav-toggle").click(function(a){a.preventDefault();radioplayer.search.hideShowNavigationMenu()});radioplayer.objs.searchInput.on("focus click",function(){448>screen.width*(window.devicePixelRatio||1)?$(".radioplayer-globalnav .rp-logo").addClass("invisible"):$(".radioplayer-globalnav .rp-logo").addClass("reduced");
radioplayer.objs.searchBox.addClass("focus");radioplayer.objs.searchInput.val()!=radioplayer.lang.search.search_radioplayer||radioplayer.objs.searchBox.hasClass("active")?""!=radioplayer.objs.searchInput.val()&&radioplayer.objs.searchBox.hasClass("active")&&0<radioplayer.objs.suggestContainer.data("results")&&!radioplayer.objs.body.hasClass("showing-overlay")&&(radioplayer.overlay.show(radioplayer.lang.general.close_search),radioplayer.objs.body.addClass("showing-suggest"),radioplayer.search.lastSuggestQ!=
radioplayer.objs.searchInput.val()&&radioplayer.search.execSuggest()):(radioplayer.objs.searchInput.val("").enableSelection(),radioplayer.utils.setCaretToPos(document.getElementById("search-input"),0))}).on("blur",function(){$(".radioplayer-globalnav .rp-logo").removeClass("reduced");radioplayer.objs.searchBox.removeClass("focus");radioplayer.objs.searchBox.hasClass("active")&&""==radioplayer.objs.searchInput.val()?radioplayer.objs.body.hasClass("showing-suggest")?radioplayer.search.clearAndCloseSuggestResults():
radioplayer.search.resetSearchInput():""==radioplayer.objs.searchInput.val()&&radioplayer.objs.searchInput.val(radioplayer.lang.search.search_radioplayer)}).on("keydown",function(a){9!=a.which&&(radioplayer.objs.searchBox.hasClass("active")?""===radioplayer.objs.searchInput.val()||radioplayer.objs.body.hasClass("showing-search")||radioplayer.objs.body.hasClass("showing-suggest")||(radioplayer.overlay.show(radioplayer.lang.general.close_search),radioplayer.objs.body.addClass("showing-suggest")):-1!==
$.inArray(a.which,[8,13,16,17,18,19,20,27,32,35,36,37,38,39,40,46,91,93,224])?a.preventDefault():(radioplayer.objs.searchBox.addClass("active"),radioplayer.objs.body.hasClass("showing-search")||radioplayer.objs.body.hasClass("showing-suggest")||(radioplayer.overlay.show(radioplayer.lang.general.close_search),radioplayer.objs.body.addClass("showing-suggest"))))}).on("keyup",function(a){radioplayer.overlay.resetInactivity();var b=radioplayer.objs.suggestContainer;38==a.which&&radioplayer.objs.body.hasClass("showing-suggest")?
0==b.find(".suggest-item.on").length?b.find(".suggest-item:last").addClass("on kb-focus"):(a=b.find(".suggest-item").index(b.find(".suggest-item.on")),b.find(".suggest-item.on").removeClass("on kb-focus"),b.find(".suggest-item").eq(a-1).addClass("on kb-focus")):40==a.which&&radioplayer.objs.body.hasClass("showing-suggest")?0==b.find(".suggest-item.on").length?b.find(".suggest-item:first").addClass("on kb-focus"):b.find(".suggest-item:last").hasClass("on")?(b.find(".suggest-item:last").removeClass("on kb-focus"),
b.find(".suggest-item:first").addClass("on kb-focus")):(a=b.find(".suggest-item").index(b.find(".suggest-item.on")),b.find(".suggest-item.on").removeClass("on kb-focus"),b.find(".suggest-item").eq(a+1).addClass("on kb-focus")):13==a.which?radioplayer.objs.body.hasClass("showing-suggest")?(b=b.find(".suggest-item.on.kb-focus"),1==b.length?b.hasClass("show-all")?(radioplayer.search.execFull(),radioplayer.search.hideNavigationMenu()):(b=b.find("a").attr("href"),window.location.href=b):(radioplayer.search.execFull(),
radioplayer.search.hideNavigationMenu())):radioplayer.objs.body.hasClass("showing-search")&&(radioplayer.search.execFull(),radioplayer.search.hideNavigationMenu()):-1==$.inArray(a.which,[9,13,16,17,18,19,20,27,35,36,37,38,39,40,91,93,224])&&($("#search-clear").hide(),$("#search-button").show(),radioplayer.objs.body.hasClass("showing-suggest")?(b.find(".suggest-item.show-all").removeClass("on kb-focus"),""==radioplayer.objs.searchInput.val()?radioplayer.search.clearAndCloseSuggestResults():radioplayer.search.execSuggest()):
""==radioplayer.objs.searchInput.val()&&radioplayer.search.resetSearchInput())}).disableSelection();radioplayer.objs.suggestContainer.on("click",".suggest-item.show-all a",function(a){a.preventDefault();radioplayer.search.execFull();radioplayer.search.hideNavigationMenu()}).on("click","#suggest-results .suggest-item a",function(a){a.preventDefault();a=$(this).parent().data("rpid");var b=$(this).attr("href");radioplayer.services.analytics.sendEvent("Search","Autosuggest",a.toString(),null,null);setTimeout(function(){window.location.href=
b},100)}).on("mouseenter",".suggest-item",function(){radioplayer.objs.suggestContainer.find(".suggest-item").removeClass("on kb-focus");$(this).addClass("on")}).on("mouseleave",".suggest-item",function(){$(this).removeClass("on kb-focus")});$("#search-button").on("click",function(a){radioplayer.search.execFull();radioplayer.search.hideNavigationMenu()});$("#search-clear").on("click",function(a){radioplayer.search.resetSearchInput()});$("#search-all-cont, #search-live-cont, #search-od-cont").on("click",
".station-group a.station-group-toggle",function(a){a.preventDefault();a=$(this);var b=a.parent().parent(),c=b.attr("data-brand");if(b.hasClass("collapsed")){b.removeClass("collapsed");var e=radioplayer.lang.search.show_fewer_stations,e=e.replace("{group}",c);a.html("\x3ci\x3e\x3c/i\x3e"+e);$parentContainer=b.parent();radioplayer.overlay.lazyLoad($parentContainer)}else b.addClass("collapsed"),b=radioplayer.lang.search.show_more_stations,b=b.replace("{group}",c),a.html("\x3ci\x3e\x3c/i\x3e"+b)})},
execSuggest:function(){var a=$.trim(radioplayer.objs.searchInput.val());regex=/(<([^>]+)>)/ig;var a=a.replace(regex,""),b=radioplayer.lang.search.show_all_results_for.replace("{terms}","\x3cstrong\x3e"+a+"\x3c/strong\x3e");$(".suggest-item.show-all a").html(b);clearTimeout(radioplayer.search.suggestQueryDelay);radioplayer.search.suggestQueryDelay=setTimeout(function(){""!=a&&a!=radioplayer.search.lastSuggestQ&&(radioplayer.search.lastSuggestQ=a,radioplayer.services.getAPI(radioplayer.consts.api.suggest+
"?query\x3d"+encodeURIComponent(a)+"\x26callback\x3dradioplayer.search.receiveSuggest"))},150)},receiveSuggest:function(a){var b='\x3ch2 class\x3d"access"\x3e'+radioplayer.lang.search.suggested_title+"\x3c/h2\x3e",c=0;0<a.live.length&&(b+='\x3cdiv class\x3d"suggest-divider"\x3e'+radioplayer.lang.search.suggested_stations+"\x3c/div\x3e",$.each(a.live,function(a,d){b+='\x3cdiv class\x3d"suggest-item'+(d.name?" has-prog-name":"")+'" data-rpid\x3d"'+d.rpId+'"\x3e\x3ca href\x3d"'+d.url+'"\x3e\x3cimg class\x3d"image" src\x3d"'+
d.imageUrl+'" alt\x3d"" /\x3e\x3cspan class\x3d"name"\x3e'+d.serviceName+"\x3c/span\x3e"+(d.name?'\x3cspan class\x3d"prog-name"\x3e'+d.name+"\x3c/span\x3e":"")+"\x3c/a\x3e\x3c/div\x3e";c++}));0<a.onDemand.length&&(b+='\x3cdiv class\x3d"suggest-divider"\x3e'+radioplayer.lang.search.suggested_catch_up+"\x3c/div\x3e",$.each(a.onDemand,function(a,d){b+='\x3cdiv class\x3d"suggest-item has-prog-name" data-rpid\x3d"'+d.rpId+'"\x3e\x3ca href\x3d"'+d.url+'"\x3e\x3cimg class\x3d"image" src\x3d"'+d.imageUrl+
'" alt\x3d"" /\x3e\x3cspan class\x3d"name"\x3e'+d.serviceName+'\x3c/span\x3e\x3cspan class\x3d"prog-name"\x3e'+d.name+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e";c++}));radioplayer.objs.suggestContainer.data("results",c);$("#suggest-results").html(b)},resetSearchInput:function(){$("#search-clear").hide();$("#search-button").show();radioplayer.objs.searchBox.removeClass("active");radioplayer.objs.searchInput.val(radioplayer.lang.search.search_radioplayer).disableSelection().focus();radioplayer.utils.setCaretToPos(document.getElementById("search-input"),
0)},clearAndCloseSuggestResults:function(){$("#suggest-results").html("");$(".suggest-item.show-all a").html("");radioplayer.search.lastSuggestQ="";radioplayer.overlay.hide();radioplayer.search.resetSearchInput()},execFull:function(){var a=$.trim(radioplayer.objs.searchInput.val()),a=a.replace(/(<([^>]+)>)/ig,"");if(""!=a&&radioplayer.objs.searchBox.hasClass("active")){radioplayer.objs.body.hasClass("showing-search")||(radioplayer.overlay.show(radioplayer.lang.general.close_search),radioplayer.objs.body.addClass("showing-search"));
radioplayer.objs.searchContainer.off();radioplayer.objs.searchContainer.find(".tab-container").html("").removeClass("loaded has-error");$prevSelTab=$(".search-container .tabs #search-nav-main li.on");$prevSelTab.removeClass("on");$(".search-container .tabs #search-nav-toggle li").eq(0).find("a").html(radioplayer.overlay.getMenuToggleLabel(radioplayer.lang.search.tab_live));radioplayer.overlay.selectTab(radioplayer.objs.searchContainer.find(".tabs #search-nav-main li").eq(0));radioplayer.search.showTabSpinner();
radioplayer.consts.is_iOS||radioplayer.objs.searchInput.focus();$("#search-button").hide();$("#search-clear").show();radioplayer.search.requestFailed=!1;radioplayer.search.requestFailTimer=setTimeout(function(){radioplayer.search.showFailMsg("all")},15E3);var b="?query\x3d"+encodeURIComponent(a)+"\x26rpId\x3d"+currentStationID+"\x26callback\x3dradioplayer.search.receiveall";""!=radioplayer.settings.guid&&(b+="\x26guid\x3d"+radioplayer.settings.guid);radioplayer.services.getAPI(radioplayer.consts.api.search+
b);radioplayer.search.q=a}else radioplayer.consts.is_iOS||radioplayer.objs.searchInput.focus()},tabRequest:function(a){this.showTabSpinner();radioplayer.search.requestFailed=!1;radioplayer.search.requestFailTimer=setTimeout(function(){radioplayer.search.showFailMsg(a)},15E3);var b="?query\x3d"+encodeURIComponent(radioplayer.search.q)+"\x26rpId\x3d"+currentStationID+"\x26callback\x3dradioplayer.search.receive"+a;""!=radioplayer.settings.guid&&(b+="\x26guid\x3d"+radioplayer.settings.guid);radioplayer.services.getAPI(radioplayer.consts.api.search+
"/"+a+b)},receiveall:function(a){this.receiveParse("all",a)},receivelive:function(a){this.receiveParse("live",a)},receiveod:function(a){this.receiveParse("od",a)},showTabSpinner:function(){radioplayer.objs.searchContainer.find(".search-wrapper .spinner").show()},hideTabSpinner:function(){radioplayer.objs.searchContainer.find(".search-wrapper .spinner").hide()},receiveParse:function(a,b){clearTimeout(this.requestFailTimer);if(!this.requestFailed)if("SUCCESS"==b.responseStatus){var c='\x3ch2 class\x3d"access"\x3e'+
radioplayer.lang.search["tab_"+a+"_title"]+"\x3c/h2\x3e";0==b.total?(c=this.noResultsMsg(a,radioplayer.search.q),$("#search-"+a+"-cont").addClass("has-error")):c+=radioplayer.overlay.iterateResults(b.results,"search");this.hideTabSpinner();$("#search-"+a+"-cont").html(c);$("#search-"+a+"-cont").scrollTop(0);radioplayer.overlay.lazyLoad($("#search-"+a+"-cont"))}else this.showFailMsg(a)},noResultsMsg:function(a,b){var c="live"==a?radioplayer.lang.search.no_live_results:"od"==a?radioplayer.lang.search.no_od_results:
radioplayer.lang.search.no_all_results,c='\x3cdiv class\x3d"error-message no-results"\x3e'+c.replace("{terms}",b)+"\x3c/div\x3e";radioplayer.services.analytics.sendEvent("Search","Zero Results",b,null,null);return c},showFailMsg:function(a){this.requestFailed=!0;this.hideTabSpinner();var b='\x3cdiv class\x3d"error-message fail"\x3e'+radioplayer.lang.general.fail_message+"\x3c/div\x3e";$("#search-"+a+"-cont").addClass("has-error").html(b);radioplayer.services.analytics.sendEvent("Errors","Failed Search",
currentStationID,null,null)},resetNavigationMenu:function(){$(".search-container .search-wrapper").removeClass("nav-collapsed");$("#search-nav-main").show();radioplayer.search.hideNavigationMenu()},hideShowNavigationMenu:function(){$("#search-nav-main").is(":visible")?($("#search-nav-main").hide(),$("#search-nav-toggle li a .menu_toggle").removeClass("nav-expanded"),$(".search-container .search-wrapper").addClass("nav-collapsed")):($("#search-nav-main").show(),$("#search-nav-toggle li a .menu_toggle").addClass("nav-expanded"),
$(".search-container .search-wrapper").removeClass("nav-collapsed"))},hideNavigationMenu:function(){$("#search-nav-toggle").is(":visible")&&($("#search-nav-main").hide(),$("#search-nav-toggle li a .menu_toggle").removeClass("nav-expanded"),$(".search-container .search-wrapper").addClass("nav-collapsed"),radioplayer.search.searchNavMenuVisible=!0)}};
radioplayer.lang={general:{radioplayer:"Radioplayer",open_menu:"Radioplayer Men ffnen",close_menu:"Radioplayer Men schlieen",close_search:"Radioplayer Suche schlieen",fail_message:"\x3ch1\x3eEs gibt ein Problem...\x3c/h1\x3e\x3cp\x3e\x3cstrong\x3eEntschuldigen\x3c/strong\x3e Sie die Strung. Bitte prfen Sie zunchst Ihre Internetverbindung.\x3c/p\x3e\x3cp\x3eSollte das Problem bei uns liegen, dann arbeiten unsere Techniker schon daran. \x3cbr /\x3eBitte versuchen Sie es spter nochmal.\x3c/p\x3e",
reduced_func_anno:'Mit diesem Browser knnen Sie leider nicht alle Funktionen des Radioplayers nutzen. \x3ca href\x3d"http://www.radioplayer.de/cookies/" target\x3d"_blank"\x3endern Sie die Cookie-Einstellungen\x3c/a\x3e, oder \x3ca href\x3d"http://www.radioplayer.de/apps" target\x3d"_blank"\x3eladen Sie sich unsere kostenlose App.\x3c/a\x3e',cookie_anno:'Der Radioplayer verwendet Cookies, um alle Funktionen anbieten zu knnen.\x3cbr /\x3eWas Cookies sind und wie wir sie verwenden, knnen Sie \x3ca href\x3d"http://www.radioplayer.de/cookies/" target\x3d"_blank"\x3ehier nachlesen\x3c/a\x3e. Indem Sie den Radioplayer verwenden, erklren Sie sich mit der Nutzung von Cookies einverstanden.',
cookie_consent:'Der radioplayer verwendet fr seine umfangreichen Funktionen Browser-Cookies. So knnen Sie zum Beispiel Ihre Senderliste oder die zuletzt gehrten Sender speichern. Mit der Nutzung des radioplayers erklren Sie sich damit einverstanden, dass wir Cookies verwenden. \x3ca href\x3d"http://www.radioplayer.de/cookies/" target\x3d"_blank"\x3eWeitere Informationen\x3c/a\x3e. ',cookie_consent_dismiss:"OK",apps_download:"Apps zum Download"},controls:{loading:"Laden...",player_controls:"Player Steuerung",
play:"Play",pause:"Pause",stop:"Stopp",mute:"Stumm",unmute:"Stumm aus",set_volume:"Lautstrke",set_volume_20:"Lautstrke 20%",set_volume_40:"Lautstrke 40%",set_volume_60:"Lautstrke 60%",set_volume_80:"Lautstrke 80%",set_volume_100:"Lautstrke 100%",use_device_controls:"Bitte verwenden Sie den Lautstrkeregler an Ihrem Gert.",press_play_prompt:"Zum Starten\x3cbr\x3ePlay drcken",skip_forward_5_seconds:"5 Sekunden weiter springen",skip_back_5_seconds:"5 Sekunden zurck springen",skip_forward_30_seconds:"30 Sekunden weiter springen",
skip_back_30_seconds:"30 Sekunden zurck springen",skip_forward_1_minute:"1 Minute weiter springen",skip_back_1_minute:"1 Minute zurck springen",skip_forward_5_minutes:"5 Minuten weiter springen",skip_back_5_minutes:"5 Minuten zurck springen",skip_forward_10_minutes:"10 Minuten weiter springen",skip_back_10_minutes:"10 Minuten zurck springen",skip_forward_30_minutes:"30 Minuten weiter springen",skip_back_30_minutes:"30 Minuten zurck springen"},playing:{live:"Live",live_width:28,format:"{artist} - {track}"},
songactions:{buy:"Kaufen",download:"Download",music:"Musik",info:"Information",add:"Hinzufgen",rate:"Bewerten",custom:"custom"},menu_tabs:{tab_1_text:"Meine Sender",tab_1_width:"187px",tab_2_text:"zuletzt gehrt",tab_2_width:"187px",tab_3_text:"Empfohlen",tab_3_width:"187px",tab_4_text:"Sender A-Z",tab_4_width:"189px"},recommendations:{locale:"de_DE"},azlist:{alphabet_array:"#abcdefghijklmnopqrstuvwxyz".split(""),no_stations_beginning:"Hier gibt es noch keine Sender, die mit {letter} beginnen",view_stations_beginning:"Sender anzeigen, die mit {letter} beginnen",
a_number:"einer Zahl",no_stations:"Es gibt noch keinen Sender mit diesem Buchstaben"},mystations:{add_this:"Sender zu Meine Sender hinzufgen",remove_this:"Sender aus Meine Sender entfernen",no_items:"\x3ch1\x3eZu Meine Sender hinzufgen\x3c/h1\x3e\x3cp\x3eSie haben noch keine Sender gespeichert.\x3cbr /\x3eKlicken Sie auf das graue Herz bei Ihren Lieblingssendern, um sie hier zu speichern.\x3c/p\x3e"},search:{search:"Suchen",clear:"Suchfeld lschen",search_radioplayer:"Sender finden",suggested_title:"Empfohlene Suchergebnisse",
suggested_stations:"Empfohlene Sender",suggested_catch_up:"Empfohlene Podcasts",show_all_results_for:"Alle Ergebnisse zu {terms} anzeigen",tab_all:"Alle",tab_all_title:"Alle Suchergebnisse",tab_live:"Live",tab_live_title:"Gefundene Live-Programme",tab_catchup:"Podcasts",tab_catchup_title:"Gefundene Podcasts",show_fewer_stations:"Weniger {group} Sender anzeigen",show_more_stations:"Mehr {group} Sender anzeigen",show_information:"Informationen anzeigen",hide_information:"Informationen ausblenden",no_all_results:'\x3ch1\x3eNichts gefunden\x3c/h1\x3e\x3cp\x3eWir konnten keine Sender oder Podcasts passend zu \x3cbr /\x3e\x3cspan class\x3d"terms"\x3e{terms}\x3c/span\x3e\x3cbr /\x3efinden.\x3c/p\x3e\x3cp\x3eBitte prfen Sie Ihre Eingabe oder starten Sie eine neue Suche mit dem Namen eines \x3cstrong\x3eSenders\x3c/strong\x3e, eines \x3cstrong\x3eProgramms\x3c/strong\x3e, oder mit einem \x3cstrong\x3eOrt\x3c/strong\x3e.\x3c/p\x3e',
no_live_results:'\x3ch1\x3eNichts gefunden\x3c/h1\x3e\x3cp\x3eWir konnten keinen Sender passend zu \x3cbr /\x3e\x3cspan class\x3d"terms"\x3e{terms}\x3c/span\x3e\x3cbr /\x3efinden.\x3c/p\x3e\x3cp\x3eBitte prfen Sie Ihre Eingabe oder starten Sie eine neue Suche mit dem Namen eines \x3cstrong\x3eSenders\x3c/strong\x3e, eines \x3cstrong\x3eProgramms\x3c/strong\x3e, oder mit einem \x3cstrong\x3eOrt\x3c/strong\x3e.\x3c/p\x3e',no_od_results:'\x3ch1\x3eNichts gefunden\x3c/h1\x3e\x3cp\x3eWir konnten keinen Podcast passend zu \x3cbr /\x3e\x3cspan class\x3d"terms"\x3e{terms}\x3c/span\x3e\x3cbr /\x3efinden.\x3c/p\x3e\x3cp\x3eBitte prfen Sie Ihre Eingabe oder starten Sie eine neue Suche mit dem Namen eines \x3cstrong\x3eSenders\x3c/strong\x3e, eines \x3cstrong\x3eProgramms\x3c/strong\x3e, oder mit einem \x3cstrong\x3eOrt\x3c/strong\x3e.\x3c/p\x3e',
live:"Live",coming_up:"In Krze",broadcast:"Podcast",in_seconds:"in Sekunden",in_minute:"in 1 Minute",in_minutes:"in {n} Minuten",second_ago:"vor 1 Sekunde",seconds_ago:"vor {n} Sekunden",minute_ago:"vor 1 Minute",minutes_ago:"vor {n} Minuten",hour_ago:"vor 1 Stunde",hours_ago:"vor {n} Stunden",day_ago:"vor 1 Tag",days_ago:"vor {n} Tagen",week_ago:"vor 1 Woche",weeks_ago:"vor {n} Wochen",month_ago:"vor 1 Monat",months_ago:"vor {n} Monaten",year_ago:"vor 1 Jahr",years_ago:"vor {n} Jahren"},stream_error:{unavailable:'\x3ch1\x3eLeider nur Stille\x3c/h1\x3e\x3cp\x3eWir versuchen den Sender zu starten, aber es funktioniert leider nicht.\x3c/p\x3e\x3cp\x3eEntweder ist der Webstream gerade nicht verfgbar oder er ist nicht mit Ihrem Gert kompatibel.\x3c/p\x3e\x3cp\x3eGlcklicherweise gibt es einen anderen Weg, das Programm zu hren: \x3ca href\x3d"http://www.radioplayer.de/apps" target\x3d"_blank"\x3eLaden Sie sich unsere kostenlose Radioplayer-App\x3c/a\x3e auf Ihr Smartphone oder Tablet.\x3c/p\x3e',
device_incompatible:'\x3ch1\x3eLeider nur Stille\x3c/h1\x3e\x3cp\x3eWir versuchen den Sender zu starten, aber offenbar ist der Webstream nicht mit Ihrem Gert kompatibel.\x3c/p\x3e\x3cp\x3eGlcklicherweise gibt es einen anderen Weg, das Programm zu hren: \x3ca href\x3d"http://www.radioplayer.de/apps" target\x3d"_blank"\x3eLaden Sie sich unsere kostenlose Radioplayer-App\x3c/a\x3e auf Ihr Smartphone oder Tablet.\x3c/p\x3e'}};